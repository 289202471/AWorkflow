!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.AWorkflow=e():t.AWorkflow=e()}(window,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=100)}([function(t,e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},i={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},o=Object.prototype.toString,a=Array.prototype,s=a.forEach,h=a.filter,l=a.slice,u=a.map,c=a.reduce,f={};function d(t){if(null==t||"object"!=(void 0===t?"undefined":r(t)))return t;var e=t,a=o.call(t);if("[object Array]"===a){if(!T(t)){e=[];for(var s=0,h=t.length;s<h;s++)e[s]=d(t[s])}}else if(i[a]){if(!T(t)){var l=t.constructor;if(t.constructor.from)e=l.from(t);else{e=new l(t.length);for(s=0,h=t.length;s<h;s++)e[s]=d(t[s])}}}else if(!n[a]&&!T(t)&&!k(t))for(var u in e={},t)t.hasOwnProperty(u)&&(e[u]=d(t[u]));return e}function p(t,e,r){if(!b(e)||!b(t))return r?d(e):t;for(var n in e)if(e.hasOwnProperty(n)){var i=t[n],o=e[n];!b(o)||!b(i)||x(o)||x(i)||k(o)||k(i)||w(o)||w(i)||T(o)||T(i)?!r&&n in t||(t[n]=d(e[n])):p(i,o,r)}return t}function v(t,e,r){for(var n in e)e.hasOwnProperty(n)&&(r?null!=e[n]:null==t[n])&&(t[n]=e[n]);return t}var g,m=function(){return f.createCanvas()};function y(t,e,r){if(t&&e)if(t.forEach&&t.forEach===s)t.forEach(e,r);else if(t.length===+t.length)for(var n=0,i=t.length;n<i;n++)e.call(r,t[n],n,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(r,t[o],o,t)}function _(t,e){var r=l.call(arguments,2);return function(){return t.apply(e,r.concat(l.call(arguments)))}}function x(t){return"[object Array]"===o.call(t)}function b(t){var e=void 0===t?"undefined":r(t);return"function"===e||!!t&&"object"==e}function w(t){return!!n[o.call(t)]}function k(t){return"object"===(void 0===t?"undefined":r(t))&&"number"==typeof t.nodeType&&"object"===r(t.ownerDocument)}f.createCanvas=function(){return document.createElement("canvas")};var C="__ec_primitive__";function T(t){return t[C]}function P(t){var e=x(t),r=this;function n(t,n){e?r.set(t,n):r.set(n,t)}t instanceof P?t.each(n):t&&y(t,n)}P.prototype={constructor:P,get:function(t){return this.hasOwnProperty(t)?this[t]:null},set:function(t,e){return this[t]=e},each:function(t,e){for(var r in void 0!==e&&(t=_(t,e)),this)this.hasOwnProperty(r)&&t(this[r],r)},removeKey:function(t){delete this[t]}},e.$override=function(t,e){"createCanvas"===t&&(g=null),f[t]=e},e.clone=d,e.merge=p,e.mergeAll=function(t,e){for(var r=t[0],n=1,i=t.length;n<i;n++)r=p(r,t[n],e);return r},e.extend=function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},e.defaults=v,e.createCanvas=m,e.getContext=function(){return g||(g=m().getContext("2d")),g},e.indexOf=function(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r}return-1},e.inherits=function(t,e){var r=t.prototype;function n(){}for(var i in n.prototype=e.prototype,t.prototype=new n,r)t.prototype[i]=r[i];t.prototype.constructor=t,t.superClass=e},e.mixin=function(t,e,r){v(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,r)},e.isArrayLike=function(t){if(t)return"string"!=typeof t&&"number"==typeof t.length},e.each=y,e.map=function(t,e,r){if(t&&e){if(t.map&&t.map===u)return t.map(e,r);for(var n=[],i=0,o=t.length;i<o;i++)n.push(e.call(r,t[i],i,t));return n}},e.reduce=function(t,e,r,n){if(t&&e){if(t.reduce&&t.reduce===c)return t.reduce(e,r,n);for(var i=0,o=t.length;i<o;i++)r=e.call(n,r,t[i],i,t);return r}},e.filter=function(t,e,r){if(t&&e){if(t.filter&&t.filter===h)return t.filter(e,r);for(var n=[],i=0,o=t.length;i<o;i++)e.call(r,t[i],i,t)&&n.push(t[i]);return n}},e.find=function(t,e,r){if(t&&e)for(var n=0,i=t.length;n<i;n++)if(e.call(r,t[n],n,t))return t[n]},e.bind=_,e.curry=function(t){var e=l.call(arguments,1);return function(){return t.apply(this,e.concat(l.call(arguments)))}},e.isArray=x,e.isFunction=function(t){return"function"==typeof t},e.isString=function(t){return"[object String]"===o.call(t)},e.isObject=b,e.isBuiltInObject=w,e.isTypedArray=function(t){return!!i[o.call(t)]},e.isDom=k,e.eqNaN=function(t){return t!=t},e.retrieve=function(t){for(var e=0,r=arguments.length;e<r;e++)if(null!=arguments[e])return arguments[e]},e.retrieve2=function(t,e){return null!=t?t:e},e.retrieve3=function(t,e,r){return null!=t?t:null!=e?e:r},e.slice=function(){return Function.call.apply(l,arguments)},e.normalizeCssArray=function(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t},e.assert=function(t,e){if(!t)throw new Error(e)},e.trim=function(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},e.setAsPrimitive=function(t){t[C]=!0},e.isPrimitive=T,e.createHashMap=function(t){return new P(t)},e.concatArray=function(t,e){for(var r=new t.constructor(t.length+e.length),n=0;n<t.length;n++)r[n]=t[n];var i=t.length;for(n=0;n<e.length;n++)r[n+i]=e[n];return r},e.noop=function(){}},function(t,e,r){var n=r(12),i=r(0),o=r(11),a=r(84),s=r(25).prototype.getCanvasPattern,h=Math.abs,l=new o(!0);function u(t){n.call(this,t),this.path=null}u.prototype={constructor:u,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(t,e){var r,n=this.style,i=this.path||l,o=n.hasStroke(),a=n.hasFill(),h=n.fill,u=n.stroke,c=a&&!!h.colorStops,f=o&&!!u.colorStops,d=a&&!!h.image,p=o&&!!u.image;(n.bind(t,this,e),this.setTransform(t),this.__dirty)&&(c&&(r=r||this.getBoundingRect(),this._fillGradient=n.getGradient(t,h,r)),f&&(r=r||this.getBoundingRect(),this._strokeGradient=n.getGradient(t,u,r)));c?t.fillStyle=this._fillGradient:d&&(t.fillStyle=s.call(h,t)),f?t.strokeStyle=this._strokeGradient:p&&(t.strokeStyle=s.call(u,t));var v=n.lineDash,g=n.lineDashOffset,m=!!t.setLineDash,y=this.getGlobalScale();i.setScale(y[0],y[1]),this.__dirtyPath||v&&!m&&o?(i.beginPath(t),v&&!m&&(i.setLineDash(v),i.setLineDashOffset(g)),this.buildPath(i,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),a&&i.fill(t),v&&m&&(t.setLineDash(v),t.lineDashOffset=g),o&&i.stroke(t),v&&m&&t.setLineDash([]),null!=n.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,r){},createPathProxy:function(){this.path=new o},getBoundingRect:function(){var t=this._rect,e=this.style,r=!t;if(r){var n=this.path;n||(n=this.path=new o),this.__dirtyPath&&(n.beginPath(),this.buildPath(n,this.shape,!1)),t=n.getBoundingRect()}if(this._rect=t,e.hasStroke()){var i=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||r){i.copy(t);var a=e.lineWidth,s=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(a=Math.max(a,this.strokeContainThreshold||4)),s>1e-10&&(i.width+=a/s,i.height+=a/s,i.x-=a/s/2,i.y-=a/s/2)}return i}return t},contain:function(t,e){var r=this.transformCoordToLocal(t,e),n=this.getBoundingRect(),i=this.style;if(t=r[0],e=r[1],n.contain(t,e)){var o=this.path.data;if(i.hasStroke()){var s=i.lineWidth,h=i.strokeNoScale?this.getLineScale():1;if(h>1e-10&&(i.hasFill()||(s=Math.max(s,this.strokeContainThreshold)),a.containStroke(o,s/h,t,e)))return!0}if(i.hasFill())return a.contain(o,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):n.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var r=this.shape;if(r){if(i.isObject(t))for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);else r[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&h(t[0]-1)>1e-10&&h(t[3]-1)>1e-10?Math.sqrt(h(t[0]*t[3]-t[2]*t[1])):1}},u.extend=function(t){var e=function(e){u.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var r=t.shape;if(r){this.shape=this.shape||{};var n=this.shape;for(var i in r)!n.hasOwnProperty(i)&&r.hasOwnProperty(i)&&(n[i]=r[i])}t.init&&t.init.call(this,e)};for(var r in i.inherits(e,u),t)"style"!==r&&"shape"!==r&&(e.prototype[r]=t[r]);return e},i.inherits(u,n);var c=u;t.exports=c},function(t,e){var r="undefined"==typeof Float32Array?Array:Float32Array;function n(t){return Math.sqrt(o(t))}var i=n;function o(t){return t[0]*t[0]+t[1]*t[1]}var a=o;function s(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var h=s;function l(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var u=l;e.create=function(t,e){var n=new r(2);return null==t&&(t=0),null==e&&(e=0),n[0]=t,n[1]=e,n},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.clone=function(t){var e=new r(2);return e[0]=t[0],e[1]=t[1],e},e.set=function(t,e,r){return t[0]=e,t[1]=r,t},e.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t},e.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t},e.sub=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t},e.len=n,e.length=i,e.lenSquare=o,e.lengthSquare=a,e.mul=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t},e.div=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t},e.normalize=function(t,e){var r=n(e);return 0===r?(t[0]=0,t[1]=0):(t[0]=e[0]/r,t[1]=e[1]/r),t},e.distance=s,e.dist=h,e.distanceSquare=l,e.distSquare=u,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.lerp=function(t,e,r,n){return t[0]=e[0]+n*(r[0]-e[0]),t[1]=e[1]+n*(r[1]-e[1]),t},e.applyTransform=function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t},e.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t},e.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}},function(t,e,r){var n=r(27);!function(){for(var t in n){if(null==n||!n.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;e[t]=n[t]}}();var i=r(87);!function(){for(var t in i){if(null==i||!i.hasOwnProperty(t)||"default"===t||"__esModule"===t)return;e[t]=i[t]}}(),r(59),r(53)},function(t,e,r){var n,i,o,a,s=r(2),h=r(14),l=s.applyTransform,u=Math.min,c=Math.max;function f(t,e,r,n){r<0&&(t+=r,r=-r),n<0&&(e+=n,n=-n),this.x=t,this.y=e,this.width=r,this.height=n}f.prototype={constructor:f,union:function(t){var e=u(t.x,this.x),r=u(t.y,this.y);this.width=c(t.x+t.width,this.x+this.width)-e,this.height=c(t.y+t.height,this.y+this.height)-r,this.x=e,this.y=r},applyTransform:(n=[],i=[],o=[],a=[],function(t){if(t){n[0]=o[0]=this.x,n[1]=a[1]=this.y,i[0]=a[0]=this.x+this.width,i[1]=o[1]=this.y+this.height,l(n,n,t),l(i,i,t),l(o,o,t),l(a,a,t),this.x=u(n[0],i[0],o[0],a[0]),this.y=u(n[1],i[1],o[1],a[1]);var e=c(n[0],i[0],o[0],a[0]),r=c(n[1],i[1],o[1],a[1]);this.width=e-this.x,this.height=r-this.y}}),calculateTransform:function(t){var e=this,r=t.width/e.width,n=t.height/e.height,i=h.create();return h.translate(i,i,[-e.x,-e.y]),h.scale(i,i,[r,n]),h.translate(i,i,[t.x,t.y]),i},intersect:function(t){if(!t)return!1;t instanceof f||(t=f.create(t));var e=this,r=e.x,n=e.x+e.width,i=e.y,o=e.y+e.height,a=t.x,s=t.x+t.width,h=t.y,l=t.y+t.height;return!(n<a||s<r||o<h||l<i)},contain:function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},clone:function(){return new f(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},f.create=function(t){return new f(t.x,t.y,t.width,t.height)};var d=f;t.exports=d},function(t,e,r){var n=r(0),i=r(43),o=r(4),a=function(t){for(var e in t=t||{},i.call(this,t),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};a.prototype={constructor:a,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,r=0;r<e.length;r++)if(e[r].name===t)return e[r]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var r=this._children,n=r.indexOf(e);n>=0&&(r.splice(n,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,r=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof a&&t.addChildrenToStorage(e)),r&&r.refresh()},remove:function(t){var e=this.__zr,r=this.__storage,i=this._children,o=n.indexOf(i,t);return o<0?this:(i.splice(o,1),t.parent=null,r&&(r.delFromStorage(t),t instanceof a&&t.delChildrenFromStorage(r)),e&&e.refresh(),this)},removeAll:function(){var t,e,r=this._children,n=this.__storage;for(e=0;e<r.length;e++)t=r[e],n&&(n.delFromStorage(t),t instanceof a&&t.delChildrenFromStorage(n)),t.parent=null;return r.length=0,this},eachChild:function(t,e){for(var r=this._children,n=0;n<r.length;n++){var i=r[n];t.call(e,i,n)}return this},traverse:function(t,e){for(var r=0;r<this._children.length;r++){var n=this._children[r];t.call(e,n),"group"===n.type&&n.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var r=this._children[e];t.addToStorage(r),r instanceof a&&r.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var r=this._children[e];t.delFromStorage(r),r instanceof a&&r.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,r=new o(0,0,0,0),n=t||this._children,i=[],a=0;a<n.length;a++){var s=n[a];if(!s.ignore&&!s.invisible){var h=s.getBoundingRect(),l=s.getLocalTransform(i);l?(r.copy(h),r.applyTransform(l),(e=e||r.clone()).union(r)):(e=e||h.clone()).union(h)}}return e||r}},n.inherits(a,i);var s=a;t.exports=s},function(t,e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n="object"===("undefined"==typeof wx?"undefined":r(wx))&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0}:function(t){var e={},r=t.match(/Firefox\/([\d.]+)/),n=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),i=t.match(/Edge\/([\d.]+)/),o=/micromessenger/i.test(t);r&&(e.firefox=!0,e.version=r[1]);n&&(e.ie=!0,e.version=n[1]);i&&(e.edge=!0,e.version=i[1]);o&&(e.weChat=!0);return{browser:e,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!e.ie&&!e.edge,pointerEventsSupported:"onpointerdown"in window&&(e.edge||e.ie&&e.version>=11)}}(navigator.userAgent);t.exports=n},function(t,e,r){var n=r(12),i=r(0),o=r(16),a=r(17),s=function(t){n.call(this,t)};s.prototype={constructor:s,type:"text",brush:function(t,e){var r=this.style;this.__dirty&&a.normalizeTextStyle(r,!0),r.fill=r.stroke=r.shadowBlur=r.shadowColor=r.shadowOffsetX=r.shadowOffsetY=null;var n=r.text;null!=n&&(n+=""),r.bind(t,this,e),a.needDrawText(n,r)&&(this.setTransform(t),a.renderText(this,t,n,r),this.restoreTransform(t))},getBoundingRect:function(){var t=this.style;if(this.__dirty&&a.normalizeTextStyle(t,!0),!this._rect){var e=t.text;null!=e?e+="":e="";var r=o.getBoundingRect(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.rich);if(r.x+=t.x||0,r.y+=t.y||0,a.getStroke(t.textStroke,t.textStrokeWidth)){var n=t.textStrokeWidth;r.x-=n/2,r.y-=n/2,r.width+=n,r.height+=n}this._rect=r}return this._rect}},i.inherits(s,n);var h=s;t.exports=h},function(t,e,r){var n=r(12),i=r(4),o=r(0),a=r(24);function s(t){n.call(this,t)}s.prototype={constructor:s,type:"image",brush:function(t,e){var r=this.style,n=r.image;r.bind(t,this,e);var i=this._image=a.createOrUpdateImage(n,this._image,this,this.onload);if(i&&a.isImageReady(i)){var o=r.x||0,s=r.y||0,h=r.width,l=r.height,u=i.width/i.height;if(null==h&&null!=l?h=l*u:null==l&&null!=h?l=h/u:null==h&&null==l&&(h=i.width,l=i.height),this.setTransform(t),r.sWidth&&r.sHeight){var c=r.sx||0,f=r.sy||0;t.drawImage(i,c,f,r.sWidth,r.sHeight,o,s,h,l)}else if(r.sx&&r.sy){var d=h-(c=r.sx),p=l-(f=r.sy);t.drawImage(i,c,f,d,p,o,s,h,l)}else t.drawImage(i,o,s,h,l);null!=r.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new i(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},o.inherits(s,n);var h=s;t.exports=h},function(t,e){var r=Array.prototype.slice,n=function(){this._$handlers={}};n.prototype={constructor:n,one:function(t,e,r){var n=this._$handlers;if(!e||!t)return this;n[t]||(n[t]=[]);for(var i=0;i<n[t].length;i++)if(n[t][i].h===e)return this;return n[t].push({h:e,one:!0,ctx:r||this}),this},on:function(t,e,r){var n=this._$handlers;if(!e||!t)return this;n[t]||(n[t]=[]);for(var i=0;i<n[t].length;i++)if(n[t][i].h===e)return this;return n[t].push({h:e,one:!1,ctx:r||this}),this},isSilent:function(t){var e=this._$handlers;return e[t]&&e[t].length},off:function(t,e){var r=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(r[t]){for(var n=[],i=0,o=r[t].length;i<o;i++)r[t][i].h!=e&&n.push(r[t][i]);r[t]=n}r[t]&&0===r[t].length&&delete r[t]}else delete r[t];return this},trigger:function(t){if(this._$handlers[t]){var e=arguments,n=e.length;n>3&&(e=r.call(e,1));for(var i=this._$handlers[t],o=i.length,a=0;a<o;){switch(n){case 1:i[a].h.call(i[a].ctx);break;case 2:i[a].h.call(i[a].ctx,e[1]);break;case 3:i[a].h.call(i[a].ctx,e[1],e[2]);break;default:i[a].h.apply(i[a].ctx,e)}i[a].one?(i.splice(a,1),o--):a++}}return this},triggerWithContext:function(t){if(this._$handlers[t]){var e=arguments,n=e.length;n>4&&(e=r.call(e,1,e.length-1));for(var i=e[e.length-1],o=this._$handlers[t],a=o.length,s=0;s<a;){switch(n){case 1:o[s].h.call(i);break;case 2:o[s].h.call(i,e[1]);break;case 3:o[s].h.call(i,e[1],e[2]);break;default:o[s].h.apply(i,e)}o[s].one?(o.splice(s,1),a--):s++}}return this}};var i=n;t.exports=i},function(t,e,r){var n=r(2),i=n.create,o=n.distSquare,a=Math.pow,s=Math.sqrt,h=1e-8,l=1e-4,u=s(3),c=1/3,f=i(),d=i(),p=i();function v(t){return t>-h&&t<h}function g(t){return t>h||t<-h}function m(t,e,r,n,i){var o=1-i;return o*o*(o*t+3*i*e)+i*i*(i*n+3*o*r)}function y(t,e,r,n){var i=1-n;return i*(i*t+2*n*e)+n*n*r}e.cubicAt=m,e.cubicDerivativeAt=function(t,e,r,n,i){var o=1-i;return 3*(((e-t)*o+2*(r-e)*i)*o+(n-r)*i*i)},e.cubicRootAt=function(t,e,r,n,i,o){var h=n+3*(e-r)-t,l=3*(r-2*e+t),f=3*(e-t),d=t-i,p=l*l-3*h*f,g=l*f-9*h*d,m=f*f-3*l*d,y=0;if(v(p)&&v(g))v(l)?o[0]=0:(E=-f/l)>=0&&E<=1&&(o[y++]=E);else{var _=g*g-4*p*m;if(v(_)){var x=g/p,b=-x/2;(E=-l/h+x)>=0&&E<=1&&(o[y++]=E),b>=0&&b<=1&&(o[y++]=b)}else if(_>0){var w=s(_),k=p*l+1.5*h*(-g+w),C=p*l+1.5*h*(-g-w);(E=(-l-((k=k<0?-a(-k,c):a(k,c))+(C=C<0?-a(-C,c):a(C,c))))/(3*h))>=0&&E<=1&&(o[y++]=E)}else{var T=(2*p*l-3*h*g)/(2*s(p*p*p)),P=Math.acos(T)/3,S=s(p),M=Math.cos(P),E=(-l-2*S*M)/(3*h),O=(b=(-l+S*(M+u*Math.sin(P)))/(3*h),(-l+S*(M-u*Math.sin(P)))/(3*h));E>=0&&E<=1&&(o[y++]=E),b>=0&&b<=1&&(o[y++]=b),O>=0&&O<=1&&(o[y++]=O)}}return y},e.cubicExtrema=function(t,e,r,n,i){var o=6*r-12*e+6*t,a=9*e+3*n-3*t-9*r,h=3*e-3*t,l=0;if(v(a))g(o)&&(c=-h/o)>=0&&c<=1&&(i[l++]=c);else{var u=o*o-4*a*h;if(v(u))i[0]=-o/(2*a);else if(u>0){var c,f=s(u),d=(-o-f)/(2*a);(c=(-o+f)/(2*a))>=0&&c<=1&&(i[l++]=c),d>=0&&d<=1&&(i[l++]=d)}}return l},e.cubicSubdivide=function(t,e,r,n,i,o){var a=(e-t)*i+t,s=(r-e)*i+e,h=(n-r)*i+r,l=(s-a)*i+a,u=(h-s)*i+s,c=(u-l)*i+l;o[0]=t,o[1]=a,o[2]=l,o[3]=c,o[4]=c,o[5]=u,o[6]=h,o[7]=n},e.cubicProjectPoint=function(t,e,r,n,i,a,h,u,c,v,g){var y,_,x,b,w,k=.005,C=1/0;f[0]=c,f[1]=v;for(var T=0;T<1;T+=.05)d[0]=m(t,r,i,h,T),d[1]=m(e,n,a,u,T),(b=o(f,d))<C&&(y=T,C=b);C=1/0;for(var P=0;P<32&&!(k<l);P++)_=y-k,x=y+k,d[0]=m(t,r,i,h,_),d[1]=m(e,n,a,u,_),b=o(d,f),_>=0&&b<C?(y=_,C=b):(p[0]=m(t,r,i,h,x),p[1]=m(e,n,a,u,x),w=o(p,f),x<=1&&w<C?(y=x,C=w):k*=.5);return g&&(g[0]=m(t,r,i,h,y),g[1]=m(e,n,a,u,y)),s(C)},e.quadraticAt=y,e.quadraticDerivativeAt=function(t,e,r,n){return 2*((1-n)*(e-t)+n*(r-e))},e.quadraticRootAt=function(t,e,r,n,i){var o=t-2*e+r,a=2*(e-t),h=t-n,l=0;if(v(o))g(a)&&(c=-h/a)>=0&&c<=1&&(i[l++]=c);else{var u=a*a-4*o*h;if(v(u))(c=-a/(2*o))>=0&&c<=1&&(i[l++]=c);else if(u>0){var c,f=s(u),d=(-a-f)/(2*o);(c=(-a+f)/(2*o))>=0&&c<=1&&(i[l++]=c),d>=0&&d<=1&&(i[l++]=d)}}return l},e.quadraticExtremum=function(t,e,r){var n=t+r-2*e;return 0===n?.5:(t-e)/n},e.quadraticSubdivide=function(t,e,r,n,i){var o=(e-t)*n+t,a=(r-e)*n+e,s=(a-o)*n+o;i[0]=t,i[1]=o,i[2]=s,i[3]=s,i[4]=a,i[5]=r},e.quadraticProjectPoint=function(t,e,r,n,i,a,h,u,c){var v,g=.005,m=1/0;f[0]=h,f[1]=u;for(var _=0;_<1;_+=.05)d[0]=y(t,r,i,_),d[1]=y(e,n,a,_),(k=o(f,d))<m&&(v=_,m=k);m=1/0;for(var x=0;x<32&&!(g<l);x++){var b=v-g,w=v+g;d[0]=y(t,r,i,b),d[1]=y(e,n,a,b);var k=o(d,f);if(b>=0&&k<m)v=b,m=k;else{p[0]=y(t,r,i,w),p[1]=y(e,n,a,w);var C=o(p,f);w<=1&&C<m?(v=w,m=C):g*=.5}}return c&&(c[0]=y(t,r,i,v),c[1]=y(e,n,a,v)),s(m)}},function(t,e,r){var n=r(10),i=r(2),o=r(85),a=r(4),s=r(18).devicePixelRatio,h={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},l=[],u=[],c=[],f=[],d=Math.min,p=Math.max,v=Math.cos,g=Math.sin,m=Math.sqrt,y=Math.abs,_="undefined"!=typeof Float32Array,x=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};x.prototype={constructor:x,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=y(1/s/t)||0,this._uy=y(1/s/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(h.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var r=y(t-this._xi)>this._ux||y(e-this._yi)>this._uy||this._len<5;return this.addData(h.L,t,e),this._ctx&&r&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),r&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,r,n,i,o){return this.addData(h.C,t,e,r,n,i,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,r,n,i,o):this._ctx.bezierCurveTo(t,e,r,n,i,o)),this._xi=i,this._yi=o,this},quadraticCurveTo:function(t,e,r,n){return this.addData(h.Q,t,e,r,n),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,r,n):this._ctx.quadraticCurveTo(t,e,r,n)),this._xi=r,this._yi=n,this},arc:function(t,e,r,n,i,o){return this.addData(h.A,t,e,r,r,n,i-n,0,o?0:1),this._ctx&&this._ctx.arc(t,e,r,n,i,o),this._xi=v(i)*r+t,this._yi=g(i)*r+t,this},arcTo:function(t,e,r,n,i){return this._ctx&&this._ctx.arcTo(t,e,r,n,i),this},rect:function(t,e,r,n){return this._ctx&&this._ctx.rect(t,e,r,n),this.addData(h.R,t,e,r,n),this},closePath:function(){this.addData(h.Z);var t=this._ctx,e=this._x0,r=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,r),t.closePath()),this._xi=e,this._yi=r,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,r=0;r<t.length;r++)e+=t[r];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length==e||!_||(this.data=new Float32Array(e));for(var r=0;r<e;r++)this.data[r]=t[r];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,r=0,n=this._len,i=0;i<e;i++)r+=t[i].len();_&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+r));for(i=0;i<e;i++)for(var o=t[i].data,a=0;a<o.length;a++)this.data[n++]=o[a];this._len=n},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var r=0;r<arguments.length;r++)e[this._len++]=arguments[r];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var r,n,i=this._dashSum,o=this._dashOffset,a=this._lineDash,s=this._ctx,h=this._xi,l=this._yi,u=t-h,c=e-l,f=m(u*u+c*c),v=h,g=l,y=a.length;for(u/=f,c/=f,o<0&&(o=i+o),v-=(o%=i)*u,g-=o*c;u>0&&v<=t||u<0&&v>=t||0==u&&(c>0&&g<=e||c<0&&g>=e);)v+=u*(r=a[n=this._dashIdx]),g+=c*r,this._dashIdx=(n+1)%y,u>0&&v<h||u<0&&v>h||c>0&&g<l||c<0&&g>l||s[n%2?"moveTo":"lineTo"](u>=0?d(v,t):p(v,t),c>=0?d(g,e):p(g,e));u=v-t,c=g-e,this._dashOffset=-m(u*u+c*c)},_dashedBezierTo:function(t,e,r,i,o,a){var s,h,l,u,c,f=this._dashSum,d=this._dashOffset,p=this._lineDash,v=this._ctx,g=this._xi,y=this._yi,_=n.cubicAt,x=0,b=this._dashIdx,w=p.length,k=0;for(d<0&&(d=f+d),d%=f,s=0;s<1;s+=.1)h=_(g,t,r,o,s+.1)-_(g,t,r,o,s),l=_(y,e,i,a,s+.1)-_(y,e,i,a,s),x+=m(h*h+l*l);for(;b<w&&!((k+=p[b])>d);b++);for(s=(k-d)/x;s<=1;)u=_(g,t,r,o,s),c=_(y,e,i,a,s),b%2?v.moveTo(u,c):v.lineTo(u,c),s+=p[b]/x,b=(b+1)%w;b%2!=0&&v.lineTo(o,a),h=o-u,l=a-c,this._dashOffset=-m(h*h+l*l)},_dashedQuadraticTo:function(t,e,r,n){var i=r,o=n;r=(r+2*t)/3,n=(n+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,r,n,i,o)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,_&&(this.data=new Float32Array(t)))},getBoundingRect:function(){l[0]=l[1]=c[0]=c[1]=Number.MAX_VALUE,u[0]=u[1]=f[0]=f[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,r=0,n=0,s=0,d=0;d<t.length;){var p=t[d++];switch(1==d&&(n=e=t[d],s=r=t[d+1]),p){case h.M:e=n=t[d++],r=s=t[d++],c[0]=n,c[1]=s,f[0]=n,f[1]=s;break;case h.L:o.fromLine(e,r,t[d],t[d+1],c,f),e=t[d++],r=t[d++];break;case h.C:o.fromCubic(e,r,t[d++],t[d++],t[d++],t[d++],t[d],t[d+1],c,f),e=t[d++],r=t[d++];break;case h.Q:o.fromQuadratic(e,r,t[d++],t[d++],t[d],t[d+1],c,f),e=t[d++],r=t[d++];break;case h.A:var m=t[d++],y=t[d++],_=t[d++],x=t[d++],b=t[d++],w=t[d++]+b,k=(t[d++],1-t[d++]);1==d&&(n=v(b)*_+m,s=g(b)*x+y),o.fromArc(m,y,_,x,b,w,k,c,f),e=v(w)*_+m,r=g(w)*x+y;break;case h.R:n=e=t[d++],s=r=t[d++];var C=t[d++],T=t[d++];o.fromLine(n,s,n+C,s+T,c,f);break;case h.Z:e=n,r=s}i.min(l,l,c),i.max(u,u,f)}return 0===d&&(l[0]=l[1]=u[0]=u[1]=0),new a(l[0],l[1],u[0]-l[0],u[1]-l[1])},rebuildPath:function(t){for(var e,r,n,i,o,a,s=this.data,l=this._ux,u=this._uy,c=this._len,f=0;f<c;){var d=s[f++];switch(1==f&&(e=n=s[f],r=i=s[f+1]),d){case h.M:e=n=s[f++],r=i=s[f++],t.moveTo(n,i);break;case h.L:o=s[f++],a=s[f++],(y(o-n)>l||y(a-i)>u||f===c-1)&&(t.lineTo(o,a),n=o,i=a);break;case h.C:t.bezierCurveTo(s[f++],s[f++],s[f++],s[f++],s[f++],s[f++]),n=s[f-2],i=s[f-1];break;case h.Q:t.quadraticCurveTo(s[f++],s[f++],s[f++],s[f++]),n=s[f-2],i=s[f-1];break;case h.A:var p=s[f++],m=s[f++],_=s[f++],x=s[f++],b=s[f++],w=s[f++],k=s[f++],C=s[f++],T=_>x?_:x,P=_>x?1:_/x,S=_>x?x/_:1,M=b+w;Math.abs(_-x)>.001?(t.translate(p,m),t.rotate(k),t.scale(P,S),t.arc(0,0,T,b,M,1-C),t.scale(1/P,1/S),t.rotate(-k),t.translate(-p,-m)):t.arc(p,m,T,b,M,1-C),1==f&&(e=v(b)*_+p,r=g(b)*x+m),n=v(M)*_+p,i=g(M)*x+m;break;case h.R:e=n=s[f],r=i=s[f+1],t.rect(s[f++],s[f++],s[f++],s[f++]);break;case h.Z:t.closePath(),n=e,i=r}}}},x.CMD=h;var b=x;t.exports=b},function(t,e,r){var n=r(0),i=r(39),o=r(43),a=r(36);function s(t){for(var e in t=t||{},o.call(this,t),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new i(t.style,this),this._rect=null,this.__clipPaths=[]}s.prototype={constructor:s,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,inplace:!1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var r=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(r[0],r[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?o.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new i(t,this),this.dirty(!1),this}},n.inherits(s,o),n.mixin(s,a);var h=s;t.exports=h},function(t,e,r){var n=r(18).debugMode,i=function(){};1===n?i=function(){for(var t in arguments)throw new Error(arguments[t])}:n>1&&(i=function(){for(var t in arguments)console.log(arguments[t])});var o=i;t.exports=o},function(t,e){var r="undefined"==typeof Float32Array?Array:Float32Array;function n(){var t=new r(6);return i(t),t}function i(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}e.create=n,e.identity=i,e.copy=o,e.mul=function(t,e,r){var n=e[0]*r[0]+e[2]*r[1],i=e[1]*r[0]+e[3]*r[1],o=e[0]*r[2]+e[2]*r[3],a=e[1]*r[2]+e[3]*r[3],s=e[0]*r[4]+e[2]*r[5]+e[4],h=e[1]*r[4]+e[3]*r[5]+e[5];return t[0]=n,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=h,t},e.translate=function(t,e,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+r[0],t[5]=e[5]+r[1],t},e.rotate=function(t,e,r){var n=e[0],i=e[2],o=e[4],a=e[1],s=e[3],h=e[5],l=Math.sin(r),u=Math.cos(r);return t[0]=n*u+a*l,t[1]=-n*l+a*u,t[2]=i*u+s*l,t[3]=-i*l+u*s,t[4]=u*o+l*h,t[5]=u*h-l*o,t},e.scale=function(t,e,r){var n=r[0],i=r[1];return t[0]=e[0]*n,t[1]=e[1]*i,t[2]=e[2]*n,t[3]=e[3]*i,t[4]=e[4]*n,t[5]=e[5]*i,t},e.invert=function(t,e){var r=e[0],n=e[2],i=e[4],o=e[1],a=e[3],s=e[5],h=r*a-o*n;return h?(h=1/h,t[0]=a*h,t[1]=-o*h,t[2]=-n*h,t[3]=r*h,t[4]=(n*s-a*i)*h,t[5]=(o*i-r*s)*h,t):null},e.clone=function(t){var e=n();return o(e,t),e}},function(t,e,r){var n=r(1),i=r(33),o=n.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){i.buildPath(t,e,!0)}});t.exports=o},function(t,e,r){var n=r(4),i=r(24),o=r(0),a=o.getContext,s=o.extend,h=o.retrieve2,l=o.retrieve3,u=o.trim,c={},f=0,d=5e3,p=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,v="12px sans-serif",g={};function m(t,e){var r=t+":"+(e=e||v);if(c[r])return c[r];for(var n=(t+"").split("\n"),i=0,o=0,a=n.length;o<a;o++)i=Math.max(T(n[o],e).width,i);return f>d&&(f=0,c={}),f++,c[r]=i,i}function y(t,e,r){return"right"===r?t-=e:"center"===r&&(t-=e/2),t}function _(t,e,r){return"middle"===r?t-=e/2:"bottom"===r&&(t-=e),t}function x(t,e,r,n,i){if(!e)return"";var o=(t+"").split("\n");i=b(e,r,n,i);for(var a=0,s=o.length;a<s;a++)o[a]=w(o[a],i);return o.join("\n")}function b(t,e,r,n){(n=s({},n)).font=e;r=h(r,"...");n.maxIterations=h(n.maxIterations,2);var i=n.minChar=h(n.minChar,0);n.cnCharWidth=m("国",e);var o=n.ascCharWidth=m("a",e);n.placeholder=h(n.placeholder,"");for(var a=t=Math.max(0,t-1),l=0;l<i&&a>=o;l++)a-=o;var u=m(r);return u>a&&(r="",u=0),a=t-u,n.ellipsis=r,n.ellipsisWidth=u,n.contentWidth=a,n.containerWidth=t,n}function w(t,e){var r=e.containerWidth,n=e.font,i=e.contentWidth;if(!r)return"";var o=m(t,n);if(o<=r)return t;for(var a=0;;a++){if(o<=i||a>=e.maxIterations){t+=e.ellipsis;break}var s=0===a?k(t,i,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*i/o):0;o=m(t=t.substr(0,s),n)}return""===t&&(t=e.placeholder),t}function k(t,e,r,n){for(var i=0,o=0,a=t.length;o<a&&i<e;o++){var s=t.charCodeAt(o);i+=0<=s&&s<=127?r:n}return o}function C(t){return m("国",t)}function T(t,e){return g.measureText(t,e)}function P(t,e,r,n){null!=t&&(t+="");var i=C(e),o=t?t.split("\n"):[],a=o.length*i,s=a;if(r&&(s+=r[0]+r[2]),t&&n){var h=n.outerHeight,l=n.outerWidth;if(null!=h&&s>h)t="",o=[];else if(null!=l)for(var u=b(l-(r?r[1]+r[3]:0),e,n.ellipsis,{minChar:n.minChar,placeholder:n.placeholder}),c=0,f=o.length;c<f;c++)o[c]=w(o[c],u)}return{lines:o,height:a,outerHeight:s,lineHeight:i}}function S(t,e){var r={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return r;for(var n,o=p.lastIndex=0;null!=(n=p.exec(t));){var a=n.index;a>o&&M(r,t.substring(o,a)),M(r,n[2],n[1]),o=p.lastIndex}o<t.length&&M(r,t.substring(o,t.length));var s=r.lines,u=0,c=0,f=[],d=e.textPadding,v=e.truncate,g=v&&v.outerWidth,y=v&&v.outerHeight;d&&(null!=g&&(g-=d[1]+d[3]),null!=y&&(y-=d[0]+d[2]));for(var _=0;_<s.length;_++){for(var b=s[_],w=0,k=0,T=0;T<b.tokens.length;T++){var P=(B=b.tokens[T]).styleName&&e.rich[B.styleName]||{},S=B.textPadding=P.textPadding,E=B.font=P.font||e.font,O=B.textHeight=h(P.textHeight,C(E));if(S&&(O+=S[0]+S[2]),B.height=O,B.lineHeight=l(P.textLineHeight,e.textLineHeight,O),B.textAlign=P&&P.textAlign||e.textAlign,B.textVerticalAlign=P&&P.textVerticalAlign||"middle",null!=y&&u+B.lineHeight>y)return{lines:[],width:0,height:0};B.textWidth=m(B.text,E);var A=P.textWidth,z=null==A||"auto"===A;if("string"==typeof A&&"%"===A.charAt(A.length-1))B.percentWidth=A,f.push(B),A=0;else{if(z){A=B.textWidth;var L=P.textBackgroundColor,R=L&&L.image;R&&(R=i.findExistImage(R),i.isImageReady(R)&&(A=Math.max(A,R.width*O/R.height)))}var D=S?S[1]+S[3]:0;A+=D;var I=null!=g?g-k:null;null!=I&&I<A&&(!z||I<D?(B.text="",B.textWidth=A=0):(B.text=x(B.text,I-D,E,v.ellipsis,{minChar:v.minChar}),B.textWidth=m(B.text,E),A=B.textWidth+D))}k+=B.width=A,P&&(w=Math.max(w,B.lineHeight))}b.width=k,b.lineHeight=w,u+=w,c=Math.max(c,k)}r.outerWidth=r.width=h(e.textWidth,c),r.outerHeight=r.height=h(e.textHeight,u),d&&(r.outerWidth+=d[1]+d[3],r.outerHeight+=d[0]+d[2]);for(_=0;_<f.length;_++){var B,j=(B=f[_]).percentWidth;B.width=parseInt(j,10)/100*c}return r}function M(t,e,r){for(var n=""===e,i=e.split("\n"),o=t.lines,a=0;a<i.length;a++){var s=i[a],h={styleName:r,text:s,isLineHolder:!s&&!n};if(a)o.push({tokens:[h]});else{var l=(o[o.length-1]||(o[0]={tokens:[]})).tokens,u=l.length;1===u&&l[0].isLineHolder?l[0]=h:(s||!u||n)&&l.push(h)}}}g.measureText=function(t,e){var r=a();return r.font=e||v,r.measureText(t)},e.DEFAULT_FONT=v,e.$override=function(t,e){g[t]=e},e.getWidth=m,e.getBoundingRect=function(t,e,r,i,o,a,s){return a?function(t,e,r,i,o,a,s){var h=S(t,{rich:a,truncate:s,font:e,textAlign:r,textPadding:o}),l=h.outerWidth,u=h.outerHeight,c=y(0,l,r),f=_(0,u,i);return new n(c,f,l,u)}(t,e,r,i,o,a,s):function(t,e,r,i,o,a){var s=P(t,e,o,a),h=m(t,e);o&&(h+=o[1]+o[3]);var l=s.outerHeight,u=y(0,h,r),c=_(0,l,i),f=new n(u,c,h,l);return f.lineHeight=s.lineHeight,f}(t,e,r,i,o,s)},e.adjustTextX=y,e.adjustTextY=_,e.adjustTextPositionOnRect=function(t,e,r){var n=e.x,i=e.y,o=e.height,a=e.width,s=o/2,h="left",l="top";switch(t){case"left":n-=r,i+=s,h="right",l="middle";break;case"right":n+=r+a,i+=s,l="middle";break;case"top":n+=a/2,i-=r,h="center",l="bottom";break;case"bottom":n+=a/2,i+=o+r,h="center";break;case"inside":n+=a/2,i+=s,h="center",l="middle";break;case"insideLeft":n+=r,i+=s,l="middle";break;case"insideRight":n+=a-r,i+=s,h="right",l="middle";break;case"insideTop":n+=a/2,i+=r,h="center";break;case"insideBottom":n+=a/2,i+=o-r,h="center",l="bottom";break;case"insideTopLeft":n+=r,i+=r;break;case"insideTopRight":n+=a-r,i+=r,h="right";break;case"insideBottomLeft":n+=r,i+=o-r,l="bottom";break;case"insideBottomRight":n+=a-r,i+=o-r,h="right",l="bottom"}return{x:n,y:i,textAlign:h,textVerticalAlign:l}},e.truncateText=x,e.getLineHeight=C,e.measureText=T,e.parsePlainText=P,e.parseRichText=S,e.makeFont=function(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&u(e)||t.textFont||t.font}},function(t,e,r){var n=r(0),i=n.retrieve2,o=n.retrieve3,a=n.each,s=n.normalizeCssArray,h=n.isString,l=n.isObject,u=r(16),c=r(35),f=r(24),d=r(38),p={left:1,right:1,center:1},v={top:1,bottom:1,middle:1};function g(t){if(t){t.font=u.makeFont(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||p[e]?e:"left";var r=t.textVerticalAlign||t.textBaseline;"center"===r&&(r="middle"),t.textVerticalAlign=null==r||v[r]?r:"top",t.textPadding&&(t.textPadding=s(t.textPadding))}}function m(t,e,r,n,i){if(r&&e.textRotation){var o=e.textOrigin;"center"===o?(n=r.width/2+r.x,i=r.height/2+r.y):o&&(n=o[0]+r.x,i=o[1]+r.y),t.translate(n,i),t.rotate(-e.textRotation),t.translate(-n,-i)}}function y(t,e,r,n,a,s,h,l){var c=n.rich[r.styleName]||{},f=r.textVerticalAlign,d=s+a/2;"top"===f?d=s+r.height/2:"bottom"===f&&(d=s+a-r.height/2),!r.isLineHolder&&_(c)&&x(t,e,c,"right"===l?h-r.width:"center"===l?h-r.width/2:h,d-r.height/2,r.width,r.height);var p=r.textPadding;p&&(h=S(h,l,p),d-=r.height/2-p[2]-r.textHeight/2),k(e,"shadowBlur",o(c.textShadowBlur,n.textShadowBlur,0)),k(e,"shadowColor",c.textShadowColor||n.textShadowColor||"transparent"),k(e,"shadowOffsetX",o(c.textShadowOffsetX,n.textShadowOffsetX,0)),k(e,"shadowOffsetY",o(c.textShadowOffsetY,n.textShadowOffsetY,0)),k(e,"textAlign",l),k(e,"textBaseline","middle"),k(e,"font",r.font||u.DEFAULT_FONT);var v=C(c.textStroke||n.textStroke,m),g=T(c.textFill||n.textFill),m=i(c.textStrokeWidth,n.textStrokeWidth);v&&(k(e,"lineWidth",m),k(e,"strokeStyle",v),e.strokeText(r.text,h,d)),g&&(k(e,"fillStyle",g),e.fillText(r.text,h,d))}function _(t){return t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor}function x(t,e,r,n,i,o,a){var s=r.textBackgroundColor,u=r.textBorderWidth,d=r.textBorderColor,p=h(s);if(k(e,"shadowBlur",r.textBoxShadowBlur||0),k(e,"shadowColor",r.textBoxShadowColor||"transparent"),k(e,"shadowOffsetX",r.textBoxShadowOffsetX||0),k(e,"shadowOffsetY",r.textBoxShadowOffsetY||0),p||u&&d){e.beginPath();var v=r.textBorderRadius;v?c.buildPath(e,{x:n,y:i,width:o,height:a,r:v}):e.rect(n,i,o,a),e.closePath()}if(p)k(e,"fillStyle",s),e.fill();else if(l(s)){var g=s.image;(g=f.createOrUpdateImage(g,null,t,b,s))&&f.isImageReady(g)&&e.drawImage(g,n,i,o,a)}u&&d&&(k(e,"lineWidth",u),k(e,"strokeStyle",d),e.stroke())}function b(t,e){e.image=t}function w(t,e,r){var n=e.x||0,i=e.y||0,o=e.textAlign,a=e.textVerticalAlign;if(r){var s=e.textPosition;if(s instanceof Array)n=r.x+P(s[0],r.width),i=r.y+P(s[1],r.height);else{var h=u.adjustTextPositionOnRect(s,r,e.textDistance);n=h.x,i=h.y,o=o||h.textAlign,a=a||h.textVerticalAlign}var l=e.textOffset;l&&(n+=l[0],i+=l[1])}return{baseX:n,baseY:i,textAlign:o,textVerticalAlign:a}}function k(t,e,r){return t[e]=d(t,e,r),t[e]}function C(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function T(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function P(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function S(t,e,r){return"right"===e?t-r[1]:"center"===e?t+r[3]/2-r[1]/2:t+r[3]}e.normalizeTextStyle=function(t){return g(t),a(t.rich,g),t},e.renderText=function(t,e,r,n,i){n.rich?function(t,e,r,n,i){var o=t.__textCotentBlock;o&&!t.__dirty||(o=t.__textCotentBlock=u.parseRichText(r,n)),function(t,e,r,n,i){var o=r.width,a=r.outerWidth,s=r.outerHeight,h=n.textPadding,l=w(0,n,i),c=l.baseX,f=l.baseY,d=l.textAlign,p=l.textVerticalAlign;m(e,n,i,c,f);var v=u.adjustTextX(c,a,d),g=u.adjustTextY(f,s,p),b=v,k=g;h&&(b+=h[3],k+=h[0]);var C=b+o;_(n)&&x(t,e,n,v,g,a,s);for(var T=0;T<r.lines.length;T++){for(var P,S=r.lines[T],M=S.tokens,E=M.length,O=S.lineHeight,A=S.width,z=0,L=b,R=C,D=E-1;z<E&&(!(P=M[z]).textAlign||"left"===P.textAlign);)y(t,e,P,n,O,k,L,"left"),A-=P.width,L+=P.width,z++;for(;D>=0&&"right"===(P=M[D]).textAlign;)y(t,e,P,n,O,k,R,"right"),A-=P.width,R-=P.width,D--;for(L+=(o-(L-b)-(C-R)-A)/2;z<=D;)P=M[z],y(t,e,P,n,O,k,L+P.width/2,"center"),L+=P.width,z++;k+=O}}(t,e,o,n,i)}(t,e,r,n,i):function(t,e,r,n,i){var o=k(e,"font",n.font||u.DEFAULT_FONT),a=n.textPadding,s=t.__textCotentBlock;s&&!t.__dirty||(s=t.__textCotentBlock=u.parsePlainText(r,o,a,n.truncate));var h=s.outerHeight,l=s.lines,c=s.lineHeight,f=w(0,n,i),d=f.baseX,p=f.baseY,v=f.textAlign,g=f.textVerticalAlign;m(e,n,i,d,p);var y=u.adjustTextY(p,h,g),b=d,P=y,M=_(n);if(M||a){var E=u.getWidth(r,o),O=E;a&&(O+=a[1]+a[3]);var A=u.adjustTextX(d,O,v);M&&x(t,e,n,A,y,O,h),a&&(b=S(d,v,a),P+=a[0])}k(e,"textAlign",v||"left"),k(e,"textBaseline","middle"),k(e,"shadowBlur",n.textShadowBlur||0),k(e,"shadowColor",n.textShadowColor||"transparent"),k(e,"shadowOffsetX",n.textShadowOffsetX||0),k(e,"shadowOffsetY",n.textShadowOffsetY||0),P+=c/2;var z=n.textStrokeWidth,L=C(n.textStroke,z),R=T(n.textFill);L&&(k(e,"lineWidth",z),k(e,"strokeStyle",L)),R&&k(e,"fillStyle",R);for(var D=0;D<l.length;D++)L&&e.strokeText(l[D],b,P),R&&e.fillText(l[D],b,P),P+=c}(t,e,r,n,i)},e.getStroke=C,e.getFill=T,e.needDrawText=function(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}},function(t,e){var r=1;"undefined"!=typeof window&&(r=Math.max(window.devicePixelRatio||1,1));var n=r;e.debugMode=0,e.devicePixelRatio=n},function(t,e,r){var n=r(20).createElement,i=r(0),o=r(1),a=r(8),s=r(7),h=r(21),l=h.path,u=h.image,c=h.text;function f(t,e,r,n,i){this._zrId=t,this._svgRoot=e,this._tagNames="string"==typeof r?[r]:r,this._markLabel=n,this._domName=i||"_dom",this.nextId=0}f.prototype.createElement=n,f.prototype.getDefs=function(t){var e=this._svgRoot,r=this._svgRoot.getElementsByTagName("defs");return 0===r.length?t?((r=e.insertBefore(this.createElement("defs"),e.firstChild)).contains||(r.contains=function(t){var e=r.children;if(!e)return!1;for(var n=e.length-1;n>=0;--n)if(e[n]===t)return!0;return!1}),r):null:r[0]},f.prototype.update=function(t,e){if(t){var r=this.getDefs(!1);if(t[this._domName]&&r.contains(t[this._domName]))"function"==typeof e&&e(t);else{var n=this.add(t);n&&(t[this._domName]=n)}}},f.prototype.addDom=function(t){this.getDefs(!0).appendChild(t)},f.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},f.prototype.getDoms=function(){var t=this.getDefs(!1);if(!t)return[];var e=[];return i.each(this._tagNames,function(r){var n=t.getElementsByTagName(r);e=e.concat([].slice.call(n))}),e},f.prototype.markAllUnused=function(){var t=this.getDoms(),e=this;i.each(t,function(t){t[e._markLabel]="0"})},f.prototype.markUsed=function(t){t&&(t[this._markLabel]="1")},f.prototype.removeUnused=function(){var t=this.getDefs(!1);if(t){var e=this.getDoms(),r=this;i.each(e,function(e){"1"!==e[r._markLabel]&&t.removeChild(e)})}},f.prototype.getSvgProxy=function(t){return t instanceof o?l:t instanceof a?u:t instanceof s?c:l},f.prototype.getTextSvgElement=function(t){return t.__textSvgEl},f.prototype.getSvgElement=function(t){return t.__svgEl};var d=f;t.exports=d},function(t,e){var r="http://www.w3.org/2000/svg";e.createElement=function(t){return document.createElementNS(r,t)}},function(t,e,r){var n=r(20).createElement,i=r(11),o=r(4),a=r(14),s=r(16),h=r(17),l=r(7),u=i.CMD,c=Array.prototype.join,f="none",d=Math.round,p=Math.sin,v=Math.cos,g=Math.PI,m=2*Math.PI,y=180/g,_=1e-4;function x(t){return d(1e4*t)/1e4}function b(t){return t<_&&t>-_}function w(t,e){e&&k(t,"transform","matrix("+c.call(e,",")+")")}function k(t,e,r){(!r||"linear"!==r.type&&"radial"!==r.type)&&("string"==typeof r&&r.indexOf("NaN")>-1&&console.log(r),t.setAttribute(e,r))}function C(t,e,r){if(function(t,e){var r=e?t.textFill:t.fill;return null!=r&&r!==f}(e,r)){var n=r?e.textFill:e.fill;n="transparent"===n?f:n,"none"!==t.getAttribute("clip-path")&&n===f&&(n="rgba(0, 0, 0, 0.002)"),k(t,"fill",n),k(t,"fill-opacity",e.opacity)}else k(t,"fill",f);if(function(t,e){var r=e?t.textStroke:t.stroke;return null!=r&&r!==f}(e,r)){var i=r?e.textStroke:e.stroke;k(t,"stroke",i="transparent"===i?f:i),k(t,"stroke-width",(r?e.textStrokeWidth:e.lineWidth)/(!r&&e.strokeNoScale?e.host.getLineScale():1)),k(t,"paint-order",r?"stroke":"fill"),k(t,"stroke-opacity",e.opacity),e.lineDash?(k(t,"stroke-dasharray",e.lineDash.join(",")),k(t,"stroke-dashoffset",d(e.lineDashOffset||0))):k(t,"stroke-dasharray",""),e.lineCap&&k(t,"stroke-linecap",e.lineCap),e.lineJoin&&k(t,"stroke-linejoin",e.lineJoin),e.miterLimit&&k(t,"stroke-miterlimit",e.miterLimit)}else k(t,"stroke",f)}var T={};T.brush=function(t){var e=t.style,r=t.__svgEl;r||(r=n("path"),t.__svgEl=r),t.path||t.createPathProxy();var i=t.path;if(t.__dirtyPath){i.beginPath(),t.buildPath(i,t.shape),t.__dirtyPath=!1;var o=function(t){for(var e=[],r=t.data,n=t.len(),i=0;i<n;){var o="",a=0;switch(r[i++]){case u.M:o="M",a=2;break;case u.L:o="L",a=2;break;case u.Q:o="Q",a=4;break;case u.C:o="C",a=6;break;case u.A:var s=r[i++],h=r[i++],l=r[i++],c=r[i++],f=r[i++],_=r[i++],w=r[i++],k=r[i++],C=Math.abs(_),T=b(C-m)&&!b(C),P=!1;P=C>=m||!b(C)&&(_>-g&&_<0||_>g)==!!k;var S=x(s+l*v(f)),M=x(h+c*p(f));T&&(_=k?m-1e-4:1e-4-m,P=!0,9===i&&e.push("M",S,M));var E=x(s+l*v(f+_)),O=x(h+c*p(f+_));e.push("A",x(l),x(c),d(w*y),+P,+k,E,O);break;case u.Z:o="Z";break;case u.R:E=x(r[i++]),O=x(r[i++]);var A=x(r[i++]),z=x(r[i++]);e.push("M",E,O,"L",E+A,O,"L",E+A,O+z,"L",E,O+z,"L",E,O)}o&&e.push(o);for(var L=0;L<a;L++)e.push(x(r[i++]))}return e.join(" ")}(i);o.indexOf("NaN")<0&&k(r,"d",o)}C(r,e),w(r,t.transform),null!=e.text&&E(t,t.getBoundingRect())};var P={brush:function(t){var e=t.style,r=e.image;r instanceof HTMLImageElement&&(r=r.src);if(r){var i=e.x||0,o=e.y||0,a=e.width,s=e.height,h=t.__svgEl;h||(h=n("image"),t.__svgEl=h),r!==t.__imageSrc&&(!function(t,e,r){t.setAttributeNS("http://www.w3.org/1999/xlink",e,r)}(h,"href",r),t.__imageSrc=r),k(h,"width",a),k(h,"height",s),k(h,"x",i),k(h,"y",o),w(h,t.transform),null!=e.text&&E(t,t.getBoundingRect())}}},S={},M=new o,E=function(t,e,r){var i=t.style;t.__dirty&&h.normalizeTextStyle(i,!0);var o=i.text;if(null!=o){o+="";var u,c,f=t.__textSvgEl;f||(f=n("text"),t.__textSvgEl=f);var d=i.textPosition,p=i.textDistance,v=i.textAlign||"left";"number"==typeof i.fontSize&&(i.fontSize+="px");var g=i.font||[i.fontStyle||"",i.fontWeight||"",i.fontSize||"",i.fontFamily||""].join(" ")||s.DEFAULT_FONT,m=O(i.textVerticalAlign),y=(r=s.getBoundingRect(o,g,v,m)).lineHeight;if(d instanceof Array)u=e.x+d[0],c=e.y+d[1];else{var _=s.adjustTextPositionOnRect(d,e,p);u=_.x,c=_.y,m=O(_.textVerticalAlign),v=_.textAlign}k(f,"alignment-baseline",m),g&&(f.style.font=g);var x=i.textPadding;if(k(f,"x",u),k(f,"y",c),C(f,i,!0),t instanceof l||t.style.transformText)w(f,t.transform);else{if(t.transform)M.copy(e),M.applyTransform(t.transform),e=M;else{var b=t.transformCoordToGlobal(e.x,e.y);e.x=b[0],e.y=b[1]}var T=i.textOrigin;"center"===T?(u=r.width/2+u,c=r.height/2+c):T&&(u=T[0]+u,c=T[1]+c);var P=-i.textRotation||0,S=a.create();a.rotate(S,t.transform,P),w(f,S)}var E=o.split("\n"),A=E.length,z=v;"left"===z?(z="start",x&&(u+=x[3])):"right"===z?(z="end",x&&(u-=x[1])):"center"===z&&(z="middle",x&&(u+=(x[3]-x[1])/2));var L=0;if("baseline"===m?(L=-r.height+y,x&&(L-=x[2])):"middle"===m?(L=(-r.height+y)/2,x&&(c+=(x[0]-x[2])/2)):x&&(L+=x[0]),t.__text!==o||t.__textFont!==g){var R=t.__tspanList||[];t.__tspanList=R;for(var D=0;D<A;D++){(B=R[D])?B.innerHTML="":(B=R[D]=n("tspan"),f.appendChild(B),k(B,"alignment-baseline",m),k(B,"text-anchor",z)),k(B,"x",u),k(B,"y",c+D*y+L),B.appendChild(document.createTextNode(E[D]))}for(;D<R.length;D++)f.removeChild(R[D]);R.length=A,t.__text=o,t.__textFont=g}else if(t.__tspanList.length){var I=t.__tspanList.length;for(D=0;D<I;++D){var B;(B=t.__tspanList[D])&&(k(B,"x",u),k(B,"y",c+D*y+L))}}}};function O(t){return"middle"===t?"middle":"bottom"===t?"baseline":"hanging"}S.drawRectText=E,S.brush=function(t){var e=t.style;null!=e.text&&(e.textPosition=[0,0],E(t,{x:e.x||0,y:e.y||0,width:0,height:0},t.getBoundingRect()))},e.path=T,e.image=P,e.text=S},function(t,e){var r=function(t){this.colorStops=t||[]};r.prototype={constructor:r,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var n=r;t.exports=n},function(t,e,r){var n=r(9);e.Dispatcher=n;var i=r(6),o="undefined"!=typeof window&&!!window.addEventListener,a=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;function s(t,e,r,n){return r=r||{},n||!i.canvasSupported?h(t,e,r):i.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(r.zrX=e.layerX,r.zrY=e.layerY):null!=e.offsetX?(r.zrX=e.offsetX,r.zrY=e.offsetY):h(t,e,r),r}function h(t,e,r){var n=function(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}(t);r.zrX=e.clientX-n.left,r.zrY=e.clientY-n.top}var l=o?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};e.clientToLocal=s,e.normalizeEvent=function(t,e,r){if(null!=(e=e||window.event).zrX)return e;var n=e.type;if(n&&n.indexOf("touch")>=0){var i="touchend"!=n?e.targetTouches[0]:e.changedTouches[0];i&&s(t,i,e,r)}else s(t,e,e,r),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var o=e.button;return null==e.which&&void 0!==o&&a.test(e.type)&&(e.which=1&o?1:2&o?3:4&o?2:0),e},e.addEventListener=function(t,e,r){o?t.addEventListener(e,r):t.attachEvent("on"+e,r)},e.removeEventListener=function(t,e,r){o?t.removeEventListener(e,r):t.detachEvent("on"+e,r)},e.stop=l,e.notLeftMouse=function(t){return t.which>1}},function(t,e,r){var n=new(r(41))(50);function i(){var t=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var r=t.pending[e],n=r.cb;n&&n(this,r.cbPayload),r.hostEl.dirty()}t.pending.length=0}function o(t){return t&&t.width&&t.height}e.findExistImage=function(t){if("string"==typeof t){var e=n.get(t);return e&&e.image}return t},e.createOrUpdateImage=function(t,e,r,a,s){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!r)return e;var h=n.get(t),l={hostEl:r,cb:a,cbPayload:s};return h?!o(e=h.image)&&h.pending.push(l):(!e&&(e=new Image),e.onload=i,n.put(t,e.__cachedImgObj={image:e,pending:[l]}),e.src=e.__zrImageSrc=t),e}return t}return e},e.isImageReady=o},function(t,e){var r=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};r.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};var n=r;t.exports=n},function(t,e,r){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function i(t){return(t=Math.round(t))<0?0:t>255?255:t}function o(t){return t<0?0:t>1?1:t}function a(t){return t.length&&"%"===t.charAt(t.length-1)?i(parseFloat(t)/100*255):i(parseInt(t,10))}function s(t){return t.length&&"%"===t.charAt(t.length-1)?o(parseFloat(t)/100):o(parseFloat(t))}function h(t,e,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?t+(e-t)*r*6:2*r<1?e:3*r<2?t+(e-t)*(2/3-r)*6:t}function l(t,e,r){return t+(e-t)*r}function u(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function c(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var f=new(r(41))(20),d=null;function p(t,e){d&&c(d,e),d=f.put(t,d||e.slice())}function v(t,e){if(t){e=e||[];var r=f.get(t);if(r)return c(e,r);var i,o=(t+="").replace(/ /g,"").toLowerCase();if(o in n)return c(e,n[o]),p(t,e),e;if("#"===o.charAt(0))return 4===o.length?(i=parseInt(o.substr(1),16))>=0&&i<=4095?(u(e,(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1),p(t,e),e):void u(e,0,0,0,1):7===o.length?(i=parseInt(o.substr(1),16))>=0&&i<=16777215?(u(e,(16711680&i)>>16,(65280&i)>>8,255&i,1),p(t,e),e):void u(e,0,0,0,1):void 0;var h=o.indexOf("("),l=o.indexOf(")");if(-1!==h&&l+1===o.length){var d=o.substr(0,h),v=o.substr(h+1,l-(h+1)).split(","),m=1;switch(d){case"rgba":if(4!==v.length)return void u(e,0,0,0,1);m=s(v.pop());case"rgb":return 3!==v.length?void u(e,0,0,0,1):(u(e,a(v[0]),a(v[1]),a(v[2]),m),p(t,e),e);case"hsla":return 4!==v.length?void u(e,0,0,0,1):(v[3]=s(v[3]),g(v,e),p(t,e),e);case"hsl":return 3!==v.length?void u(e,0,0,0,1):(g(v,e),p(t,e),e);default:return}}u(e,0,0,0,1)}}function g(t,e){var r=(parseFloat(t[0])%360+360)%360/360,n=s(t[1]),o=s(t[2]),a=o<=.5?o*(n+1):o+n-o*n,l=2*o-a;return u(e=e||[],i(255*h(l,a,r+1/3)),i(255*h(l,a,r)),i(255*h(l,a,r-1/3)),1),4===t.length&&(e[3]=t[3]),e}function m(t,e,r){if(e&&e.length&&t>=0&&t<=1){r=r||[];var n=t*(e.length-1),a=Math.floor(n),s=Math.ceil(n),h=e[a],u=e[s],c=n-a;return r[0]=i(l(h[0],u[0],c)),r[1]=i(l(h[1],u[1],c)),r[2]=i(l(h[2],u[2],c)),r[3]=o(l(h[3],u[3],c)),r}}var y=m;function _(t,e,r){if(e&&e.length&&t>=0&&t<=1){var n=t*(e.length-1),a=Math.floor(n),s=Math.ceil(n),h=v(e[a]),u=v(e[s]),c=n-a,f=b([i(l(h[0],u[0],c)),i(l(h[1],u[1],c)),i(l(h[2],u[2],c)),o(l(h[3],u[3],c))],"rgba");return r?{color:f,leftIndex:a,rightIndex:s,value:n}:f}}var x=_;function b(t,e){if(t&&t.length){var r=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(r+=","+t[3]),e+"("+r+")"}}e.parse=v,e.lift=function(t,e){var r=v(t);if(r){for(var n=0;n<3;n++)r[n]=e<0?r[n]*(1-e)|0:(255-r[n])*e+r[n]|0,r[n]>255?r[n]=255:t[n]<0&&(r[n]=0);return b(r,4===r.length?"rgba":"rgb")}},e.toHex=function(t){var e=v(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},e.fastLerp=m,e.fastMapToColor=y,e.lerp=_,e.mapToColor=x,e.modifyHSL=function(t,e,r,n){if(t=v(t))return t=function(t){if(t){var e,r,n=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.min(n,i,o),s=Math.max(n,i,o),h=s-a,l=(s+a)/2;if(0===h)e=0,r=0;else{r=l<.5?h/(s+a):h/(2-s-a);var u=((s-n)/6+h/2)/h,c=((s-i)/6+h/2)/h,f=((s-o)/6+h/2)/h;n===s?e=f-c:i===s?e=1/3+u-f:o===s&&(e=2/3+c-u),e<0&&(e+=1),e>1&&(e-=1)}var d=[360*e,r,l];return null!=t[3]&&d.push(t[3]),d}}(t),null!=e&&(t[0]=(i=e,(i=Math.round(i))<0?0:i>360?360:i)),null!=r&&(t[1]=s(r)),null!=n&&(t[2]=s(n)),b(g(t),"rgba");var i},e.modifyAlpha=function(t,e){if((t=v(t))&&null!=e)return t[3]=o(e),b(t,"rgba")},e.stringify=b},function(t,e,r){var n=r(44),i=r(6),o=r(0),a=r(99),s=r(97),h=r(92),l=r(90),u=r(89),c=!i.canvasSupported,f={canvas:h},d={};var p=function(t,e,r){r=r||{},this.dom=e,this.id=t;var n=this,h=new s,d=r.renderer;if(c){if(!f.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");d="vml"}else d&&f[d]||(d="canvas");var p=new f[d](e,h,r,t);this.storage=h,this.painter=p;var v=i.node||i.worker?null:new u(p.getViewportRoot());this.handler=new a(h,p,v,p.root),this.animation=new l({stage:{update:o.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var g=h.delFromStorage,m=h.addToStorage;h.delFromStorage=function(t){g.call(h,t),t&&t.removeSelfFromZr(n)},h.addToStorage=function(t){m.call(h,t),t.addSelfToZr(n)}};p.prototype={constructor:p,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){this.painter.addHover&&(this.painter.addHover(t,e),this.refreshHover())},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,r){this.handler.on(t,e,r)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete d[t]}},e.version="4.0.4",e.init=function(t,e){var r=new p(n(),t,e);return d[r.id]=r,r},e.dispose=function(t){if(t)t.dispose();else{for(var e in d)d.hasOwnProperty(e)&&d[e].dispose();d={}}return this},e.getInstance=function(t){return d[t]},e.registerPainter=function(t,e){f[t]=e}},function(t,e,r){var n=r(1),i=r(35),o=n.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.x,n=e.y,o=e.width,a=e.height;e.r?i.buildPath(t,e):t.rect(r,n,o,a),t.closePath()}});t.exports=o},function(t,e,r){var n=r(1).extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var r=e.x1,n=e.y1,i=e.x2,o=e.y2,a=e.percent;0!==a&&(t.moveTo(r,n),a<1&&(i=r*(1-a)+i*a,o=n*(1-a)+o*a),t.lineTo(i,o))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}});t.exports=n},function(t,e,r){var n=r(1).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,r){r&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}});t.exports=n},function(t,e,r){var n=r(1),i=r(2),o=r(10),a=o.quadraticSubdivide,s=o.cubicSubdivide,h=o.quadraticAt,l=o.cubicAt,u=o.quadraticDerivativeAt,c=o.cubicDerivativeAt,f=[];function d(t,e,r){var n=t.cpx2,i=t.cpy2;return null===n||null===i?[(r?c:l)(t.x1,t.cpx1,t.cpx2,t.x2,e),(r?c:l)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(r?u:h)(t.x1,t.cpx1,t.x2,e),(r?u:h)(t.y1,t.cpy1,t.y2,e)]}var p=n.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var r=e.x1,n=e.y1,i=e.x2,o=e.y2,h=e.cpx1,l=e.cpy1,u=e.cpx2,c=e.cpy2,d=e.percent;0!==d&&(t.moveTo(r,n),null==u||null==c?(d<1&&(a(r,h,i,d,f),h=f[1],i=f[2],a(n,l,o,d,f),l=f[1],o=f[2]),t.quadraticCurveTo(h,l,i,o)):(d<1&&(s(r,h,u,i,d,f),h=f[1],u=f[2],i=f[3],s(n,l,c,o,d,f),l=f[1],c=f[2],o=f[3]),t.bezierCurveTo(h,l,u,c,i,o)))},pointAt:function(t){return d(this.shape,t,!1)},tangentAt:function(t){var e=d(this.shape,t,!0);return i.normalize(e,e)}});t.exports=p},function(t,e,r){var n,i=r(6),o="urn:schemas-microsoft-com:vml",a="undefined"==typeof window?null:window,s=!1,h=a&&a.document;if(h&&!i.canvasSupported)try{!h.namespaces.zrvml&&h.namespaces.add("zrvml",o),n=function(t){return h.createElement("<zrvml:"+t+' class="zrvml">')}}catch(t){n=function(t){return h.createElement("<"+t+' xmlns="'+o+'" class="zrvml">')}}e.doc=h,e.createNode=function(t){return n(t)},e.initVML=function(){if(!s&&h){s=!0;var t=h.styleSheets;t.length<31?h.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)")}}},function(t,e,r){var n=r(70),i=r(69);e.buildPath=function(t,e,r){var o=e.points,a=e.smooth;if(o&&o.length>=2){if(a&&"spline"!==a){var s=i(o,a,r,e.smoothConstraint);t.moveTo(o[0][0],o[0][1]);for(var h=o.length,l=0;l<(r?h:h-1);l++){var u=s[2*l],c=s[2*l+1],f=o[(l+1)%h];t.bezierCurveTo(u[0],u[1],c[0],c[1],f[0],f[1])}}else{"spline"===a&&(o=n(o,r)),t.moveTo(o[0][0],o[0][1]),l=1;for(var d=o.length;l<d;l++)t.lineTo(o[l][0],o[l][1])}r&&t.closePath()}}},function(t,e){var r=2*Math.PI;e.normalizeRadian=function(t){return(t%=r)<0&&(t+=r),t}},function(t,e){e.buildPath=function(t,e){var r,n,i,o,a,s=e.x,h=e.y,l=e.width,u=e.height,c=e.r;l<0&&(s+=l,l=-l),u<0&&(h+=u,u=-u),"number"==typeof c?r=n=i=o=c:c instanceof Array?1===c.length?r=n=i=o=c[0]:2===c.length?(r=i=c[0],n=o=c[1]):3===c.length?(r=c[0],n=o=c[1],i=c[2]):(r=c[0],n=c[1],i=c[2],o=c[3]):r=n=i=o=0,r+n>l&&(r*=l/(a=r+n),n*=l/a),i+o>l&&(i*=l/(a=i+o),o*=l/a),n+i>u&&(n*=u/(a=n+i),i*=u/a),r+o>u&&(r*=u/(a=r+o),o*=u/a),t.moveTo(s+r,h),t.lineTo(s+l-n,h),0!==n&&t.arc(s+l-n,h+n,n,-Math.PI/2,0),t.lineTo(s+l,h+u-i),0!==i&&t.arc(s+l-i,h+u-i,i,0,Math.PI/2),t.lineTo(s+o,h+u),0!==o&&t.arc(s+o,h+u-o,o,Math.PI/2,Math.PI),t.lineTo(s,h+r),0!==r&&t.arc(s+r,h+r,r,Math.PI,1.5*Math.PI)}},function(t,e,r){var n=r(17),i=new(r(4)),o=function(){};o.prototype={constructor:o,drawRectText:function(t,e){var r=this.style;e=r.textRect||e,this.__dirty&&n.normalizeTextStyle(r,!0);var o=r.text;if(null!=o&&(o+=""),n.needDrawText(o,r)){t.save();var a=this.transform;r.transformText?this.setTransform(t):a&&(i.copy(e),i.applyTransform(a),e=i),n.renderText(this,t,o,r,e),t.restore()}}};var a=o;t.exports=a},function(t,e){var r="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)};t.exports=r},function(t,e){var r={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};t.exports=function(t,e,n){return r.hasOwnProperty(e)?n*t.dpr:n}},function(t,e,r){var n=r(38),i=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],o=function(t,e){this.extendFrom(t,!1),this.host=e};function a(t,e,r){var n=null==e.x?0:e.x,i=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(n=n*r.width+r.x,i=i*r.width+r.x,o=o*r.height+r.y,a=a*r.height+r.y),n=isNaN(n)?0:n,i=isNaN(i)?1:i,o=isNaN(o)?0:o,a=isNaN(a)?0:a,t.createLinearGradient(n,o,i,a)}function s(t,e,r){var n=r.width,i=r.height,o=Math.min(n,i),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,h=null==e.r?.5:e.r;return e.global||(a=a*n+r.x,s=s*i+r.y,h*=o),t.createRadialGradient(a,s,0,a,s,h)}for(var h=o.prototype={constructor:o,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,r){for(var o=r&&r.style,a=!o,s=0;s<i.length;s++){var h=i[s],l=h[0];(a||this[l]!==o[l])&&(t[l]=n(t,l,this[l]||h[1]))}if((a||this.fill!==o.fill)&&(t.fillStyle=this.fill),(a||this.stroke!==o.stroke)&&(t.strokeStyle=this.stroke),(a||this.opacity!==o.opacity)&&(t.globalAlpha=null==this.opacity?1:this.opacity),(a||this.blend!==o.blend)&&(t.globalCompositeOperation=this.blend||"source-over"),this.hasStroke()){var u=this.lineWidth;t.lineWidth=u/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t)for(var r in t)!t.hasOwnProperty(r)||!0!==e&&(!1===e?this.hasOwnProperty(r):null==t[r])||(this[r]=t[r])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,r){for(var n=("radial"===e.type?s:a)(t,e,r),i=e.colorStops,o=0;o<i.length;o++)n.addColorStop(i[o].offset,i[o].color);return n}},l=0;l<i.length;l++){var u=i[l];u[0]in h||(h[u[0]]=u[1])}o.getGradient=h.getGradient;var c=o;t.exports=c},function(t,e){var r=32,n=7;function i(t,e,r,n){var i=e+1;if(i===r)return 1;if(n(t[i++],t[e])<0){for(;i<r&&n(t[i],t[i-1])<0;)i++;!function(t,e,r){r--;for(;e<r;){var n=t[e];t[e++]=t[r],t[r--]=n}}(t,e,i)}else for(;i<r&&n(t[i],t[i-1])>=0;)i++;return i-e}function o(t,e,r,n,i){for(n===e&&n++;n<r;n++){for(var o,a=t[n],s=e,h=n;s<h;)i(a,t[o=s+h>>>1])<0?h=o:s=o+1;var l=n-s;switch(l){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;l>0;)t[s+l]=t[s+l-1],l--}t[s]=a}}function a(t,e,r,n,i,o){var a=0,s=0,h=1;if(o(t,e[r+i])>0){for(s=n-i;h<s&&o(t,e[r+i+h])>0;)a=h,(h=1+(h<<1))<=0&&(h=s);h>s&&(h=s),a+=i,h+=i}else{for(s=i+1;h<s&&o(t,e[r+i-h])<=0;)a=h,(h=1+(h<<1))<=0&&(h=s);h>s&&(h=s);var l=a;a=i-h,h=i-l}for(a++;a<h;){var u=a+(h-a>>>1);o(t,e[r+u])>0?a=u+1:h=u}return h}function s(t,e,r,n,i,o){var a=0,s=0,h=1;if(o(t,e[r+i])<0){for(s=i+1;h<s&&o(t,e[r+i-h])<0;)a=h,(h=1+(h<<1))<=0&&(h=s);h>s&&(h=s);var l=a;a=i-h,h=i-l}else{for(s=n-i;h<s&&o(t,e[r+i+h])>=0;)a=h,(h=1+(h<<1))<=0&&(h=s);h>s&&(h=s),a+=i,h+=i}for(a++;a<h;){var u=a+(h-a>>>1);o(t,e[r+u])<0?h=u:a=u+1}return h}function h(t,e){var r,i,o,h=n,l=0;r=t.length;var u=[];function c(r){var c=i[r],f=o[r],d=i[r+1],p=o[r+1];o[r]=f+p,r===l-3&&(i[r+1]=i[r+2],o[r+1]=o[r+2]),l--;var v=s(t[d],t,c,f,0,e);c+=v,0!==(f-=v)&&0!==(p=a(t[c+f-1],t,d,p,p-1,e))&&(f<=p?function(r,i,o,l){var c=0;for(c=0;c<i;c++)u[c]=t[r+c];var f=0,d=o,p=r;if(t[p++]=t[d++],0==--l){for(c=0;c<i;c++)t[p+c]=u[f+c];return}if(1===i){for(c=0;c<l;c++)t[p+c]=t[d+c];return void(t[p+l]=u[f])}var v,g,m,y=h;for(;;){v=0,g=0,m=!1;do{if(e(t[d],u[f])<0){if(t[p++]=t[d++],g++,v=0,0==--l){m=!0;break}}else if(t[p++]=u[f++],v++,g=0,1==--i){m=!0;break}}while((v|g)<y);if(m)break;do{if(0!==(v=s(t[d],u,f,i,0,e))){for(c=0;c<v;c++)t[p+c]=u[f+c];if(p+=v,f+=v,(i-=v)<=1){m=!0;break}}if(t[p++]=t[d++],0==--l){m=!0;break}if(0!==(g=a(u[f],t,d,l,0,e))){for(c=0;c<g;c++)t[p+c]=t[d+c];if(p+=g,d+=g,0===(l-=g)){m=!0;break}}if(t[p++]=u[f++],1==--i){m=!0;break}y--}while(v>=n||g>=n);if(m)break;y<0&&(y=0),y+=2}if((h=y)<1&&(h=1),1===i){for(c=0;c<l;c++)t[p+c]=t[d+c];t[p+l]=u[f]}else{if(0===i)throw new Error;for(c=0;c<i;c++)t[p+c]=u[f+c]}}(c,f,d,p):function(r,i,o,l){var c=0;for(c=0;c<l;c++)u[c]=t[o+c];var f=r+i-1,d=l-1,p=o+l-1,v=0,g=0;if(t[p--]=t[f--],0==--i){for(v=p-(l-1),c=0;c<l;c++)t[v+c]=u[c];return}if(1===l){for(g=(p-=i)+1,v=(f-=i)+1,c=i-1;c>=0;c--)t[g+c]=t[v+c];return void(t[p]=u[d])}var m=h;for(;;){var y=0,_=0,x=!1;do{if(e(u[d],t[f])<0){if(t[p--]=t[f--],y++,_=0,0==--i){x=!0;break}}else if(t[p--]=u[d--],_++,y=0,1==--l){x=!0;break}}while((y|_)<m);if(x)break;do{if(0!==(y=i-s(u[d],t,r,i,i-1,e))){for(i-=y,g=(p-=y)+1,v=(f-=y)+1,c=y-1;c>=0;c--)t[g+c]=t[v+c];if(0===i){x=!0;break}}if(t[p--]=u[d--],1==--l){x=!0;break}if(0!==(_=l-a(t[f],u,0,l,l-1,e))){for(l-=_,g=(p-=_)+1,v=(d-=_)+1,c=0;c<_;c++)t[g+c]=u[v+c];if(l<=1){x=!0;break}}if(t[p--]=t[f--],0==--i){x=!0;break}m--}while(y>=n||_>=n);if(x)break;m<0&&(m=0),m+=2}(h=m)<1&&(h=1);if(1===l){for(g=(p-=i)+1,v=(f-=i)+1,c=i-1;c>=0;c--)t[g+c]=t[v+c];t[p]=u[d]}else{if(0===l)throw new Error;for(v=p-(l-1),c=0;c<l;c++)t[v+c]=u[c]}}(c,f,d,p))}i=[],o=[],this.mergeRuns=function(){for(;l>1;){var t=l-2;if(t>=1&&o[t-1]<=o[t]+o[t+1]||t>=2&&o[t-2]<=o[t]+o[t-1])o[t-1]<o[t+1]&&t--;else if(o[t]>o[t+1])break;c(t)}},this.forceMergeRuns=function(){for(;l>1;){var t=l-2;t>0&&o[t-1]<o[t+1]&&t--,c(t)}},this.pushRun=function(t,e){i[l]=t,o[l]=e,l+=1}}t.exports=function(t,e,n,a){n||(n=0),a||(a=t.length);var s=a-n;if(!(s<2)){var l=0;if(s<r)o(t,n,a,n+(l=i(t,n,a,e)),e);else{var u=new h(t,e),c=function(t){for(var e=0;t>=r;)e|=1&t,t>>=1;return t+e}(s);do{if((l=i(t,n,a,e))<c){var f=s;f>c&&(f=c),o(t,n,n+f,n+l,e),l=f}u.pushRun(n,l),u.mergeRuns(),s-=l,n+=l}while(0!==s);u.forceMergeRuns()}}}},function(t,e){var r=function(){this.head=null,this.tail=null,this._len=0},n=r.prototype;n.insert=function(t){var e=new i(t);return this.insertEntry(e),e},n.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},n.remove=function(t){var e=t.prev,r=t.next;e?e.next=r:this.head=r,r?r.prev=e:this.tail=e,t.next=t.prev=null,this._len--},n.len=function(){return this._len},n.clear=function(){this.head=this.tail=null,this._len=0};var i=function(t){this.value=t,this.next,this.prev},o=function(t){this._list=new r,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},a=o.prototype;a.put=function(t,e){var r=this._list,n=this._map,o=null;if(null==n[t]){var a=r.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var h=r.head;r.remove(h),delete n[h.key],o=h.value,this._lastRemovedEntry=h}s?s.value=e:s=new i(e),s.key=t,r.insertEntry(s),n[t]=s}return o},a.get=function(t){var e=this._map[t],r=this._list;if(null!=e)return e!==r.tail&&(r.remove(e),r.insertEntry(e)),e.value},a.clear=function(){this._list.clear(),this._map={}};var s=o;t.exports=s},function(t,e,r){var n=r(94),i=r(26),o=r(0).isArrayLike,a=Array.prototype.slice;function s(t,e){return t[e]}function h(t,e,r){t[e]=r}function l(t,e,r){return(e-t)*r+t}function u(t,e,r){return r>.5?e:t}function c(t,e,r,n,i){var o=t.length;if(1==i)for(var a=0;a<o;a++)n[a]=l(t[a],e[a],r);else{var s=o&&t[0].length;for(a=0;a<o;a++)for(var h=0;h<s;h++)n[a][h]=l(t[a][h],e[a][h],r)}}function f(t,e,r){var n=t.length,i=e.length;if(n!==i)if(n>i)t.length=i;else for(var o=n;o<i;o++)t.push(1===r?e[o]:a.call(e[o]));var s=t[0]&&t[0].length;for(o=0;o<t.length;o++)if(1===r)isNaN(t[o])&&(t[o]=e[o]);else for(var h=0;h<s;h++)isNaN(t[o][h])&&(t[o][h]=e[o][h])}function d(t,e,r){if(t===e)return!0;var n=t.length;if(n!==e.length)return!1;if(1===r){for(var i=0;i<n;i++)if(t[i]!==e[i])return!1}else{var o=t[0].length;for(i=0;i<n;i++)for(var a=0;a<o;a++)if(t[i][a]!==e[i][a])return!1}return!0}function p(t,e,r,n,i,o,a,s,h){var l=t.length;if(1==h)for(var u=0;u<l;u++)s[u]=v(t[u],e[u],r[u],n[u],i,o,a);else{var c=t[0].length;for(u=0;u<l;u++)for(var f=0;f<c;f++)s[u][f]=v(t[u][f],e[u][f],r[u][f],n[u][f],i,o,a)}}function v(t,e,r,n,i,o,a){var s=.5*(r-t),h=.5*(n-e);return(2*(e-r)+s+h)*a+(-3*(e-r)-2*s-h)*o+s*i+e}function g(t){if(o(t)){var e=t.length;if(o(t[0])){for(var r=[],n=0;n<e;n++)r.push(a.call(t[n]));return r}return a.call(t)}return t}function m(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function y(t,e,r,a,s,h){var g=t._getter,y=t._setter,_="spline"===e,x=a.length;if(x){var b,w=a[0].value,k=o(w),C=!1,T=!1,P=k?function(t){var e=t[t.length-1].value;return o(e&&e[0])?2:1}(a):0;a.sort(function(t,e){return t.time-e.time}),b=a[x-1].time;for(var S=[],M=[],E=a[0].value,O=!0,A=0;A<x;A++){S.push(a[A].time/b);var z=a[A].value;if(k&&d(z,E,P)||!k&&z===E||(O=!1),E=z,"string"==typeof z){var L=i.parse(z);L?(z=L,C=!0):T=!0}M.push(z)}if(h||!O){var R=M[x-1];for(A=0;A<x-1;A++)k?f(M[A],R,P):!isNaN(M[A])||isNaN(R)||T||C||(M[A]=R);k&&f(g(t._target,s),R,P);var D,I,B,j,N,F=0,H=0;if(C)var W=[0,0,0,0];var q=new n({target:t._target,life:b,loop:t._loop,delay:t._delay,onframe:function(t,e){var r;if(e<0)r=0;else if(e<H){for(r=Math.min(F+1,x-1);r>=0&&!(S[r]<=e);r--);r=Math.min(r,x-2)}else{for(r=F;r<x&&!(S[r]>e);r++);r=Math.min(r-1,x-2)}F=r,H=e;var n=S[r+1]-S[r];if(0!==n)if(D=(e-S[r])/n,_)if(B=M[r],I=M[0===r?r:r-1],j=M[r>x-2?x-1:r+1],N=M[r>x-3?x-1:r+2],k)p(I,B,j,N,D,D*D,D*D*D,g(t,s),P);else{if(C)i=p(I,B,j,N,D,D*D,D*D*D,W,1),i=m(W);else{if(T)return u(B,j,D);i=v(I,B,j,N,D,D*D,D*D*D)}y(t,s,i)}else if(k)c(M[r],M[r+1],D,g(t,s),P);else{var i;if(C)c(M[r],M[r+1],D,W,1),i=m(W);else{if(T)return u(M[r],M[r+1],D);i=l(M[r],M[r+1],D)}y(t,s,i)}},ondestroy:r});return e&&"spline"!==e&&(q.easing=e),q}}}var _=function(t,e,r,n){this._tracks={},this._target=t,this._loop=e||!1,this._getter=r||s,this._setter=n||h,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};_.prototype={when:function(t,e){var r=this._tracks;for(var n in e)if(e.hasOwnProperty(n)){if(!r[n]){r[n]=[];var i=this._getter(this._target,n);if(null==i)continue;0!==t&&r[n].push({time:0,value:g(i)})}r[n].push({time:t,value:e[n]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,r=0;r<e;r++)t[r].call(this)},start:function(t,e){var r,n=this,i=0,o=function(){--i||n._doneCallback()};for(var a in this._tracks)if(this._tracks.hasOwnProperty(a)){var s=y(this,t,o,this._tracks[a],a,e);s&&(this._clipList.push(s),i++,this.animation&&this.animation.addClip(s),r=s)}if(r){var h=r.onframe;r.onframe=function(t,e){h(t,e);for(var r=0;r<n._onframeList.length;r++)n._onframeList[r](t,e)}}return i||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,r=this.animation,n=0;n<e.length;n++){var i=e[n];t&&i.onframe(this._target,1),r&&r.removeClip(i)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var x=_;t.exports=x},function(t,e,r){var n=r(44),i=r(9),o=r(96),a=r(95),s=r(0),h=function(t){o.call(this,t),i.call(this,t),a.call(this,t),this.id=t.id||n()};h.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=t,r[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var r=this[t];r||(r=this[t]=[]),r[0]=e[0],r[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(s.isObject(t))for(var r in t)t.hasOwnProperty(r)&&this.attrKV(r,t[r]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var r=0;r<e.length;r++)t.animation.addAnimator(e[r]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var r=0;r<e.length;r++)t.animation.removeAnimator(e[r]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},s.mixin(h,a),s.mixin(h,o),s.mixin(h,i);var l=h;t.exports=l},function(t,e){var r=2311;t.exports=function(){return r++}},function(t,e,r){"use strict";r.r(e);var n=r(3),i=r.n(n),o={templateName:"defaultTemplate",node:{box:{name:"Rect",normal:{style:{stroke:"#2A2F44",fill:"#fff"},shape:{x:0,y:0,r:15,width:170,height:30}},hover:{style:{stroke:"#2A2F44",fill:"rgba(0,29,255,0.10)"},shape:{x:0,y:0,r:15,width:170,height:30}},selected:{style:{stroke:"#2A2F44",fill:"rgba(0,29,255,0.10)"},shape:{x:0,y:0,r:15,width:170,height:30}}},text:{name:"Text",position:[31,8],normal:{style:{text:"<@nodeName>",fontFamily:"PingFangSC-Regular",fontSize:15,textFill:"#2A2F44"}},hover:{style:{fontFamily:"PingFangSC-Regular",fontSize:15,textFill:"green"}}},inputCircle:{name:"Circle",normal:{style:{stroke:"#79818F",fill:"#fff",lineWidth:1},shape:{r:4}},hover:{style:{stroke:"#394259",fill:"#394259",lineWidth:1},shape:{r:4}},guide:{style:{stroke:"rgba(60,118,255,0.5)",fill:"#fff",lineWidth:4},shape:{r:4}},guideHover:{style:{stroke:"rgba(60,118,255,0.5)",fill:"#fff",lineWidth:6},shape:{r:6}},circlePosition:"top",horizontalCirclePosition:"left",verticalCirclePosition:"top"},outputCircle:{name:"Circle",normal:{style:{stroke:"#79818F",fill:"#fff",lineWidth:1},shape:{r:4}},hover:{style:{stroke:"#79818F",fill:"grey",lineWidth:1},shape:{r:4}},circlePosition:"bottom",horizontalCirclePosition:"right",verticalCirclePosition:"bottom"}},edge:{line:{name:"BezierCurve",normal:{style:{stroke:"#79818F",lineWidth:1}},hover:{style:{stroke:"#79818F",lineWidth:4}},selected:{style:{stroke:"#79818F",lineWidth:4}}},backline:{name:"BezierCurve",normal:{style:{stroke:"#000000",lineWidth:1}},hover:{style:{stroke:"#000000",lineWidth:2}}},triangle:{name:"Triangle",normal:{shape:{width:10,height:6},style:{fill:"#404D5C"}},hover:{shape:{width:150,height:90},style:{fill:"#404D5C"}},selected:{shape:{width:10,height:6},style:{fill:"#404D5C"}}}}},a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var s={};i.a.util.merge(s,o,{templateName:"iconTemplate"}),s.node.icon={name:"Image",normal:{style:{image:"<@imgSrc>",x:10,y:6,width:18,height:18},origin:[19,15]}};var h=/<@(\w+)>/g,l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.templateObj={defaultTemplate:o,iconTemplate:s}}return a(t,[{key:"registerTemplate",value:function(t,e){e.templateName=t,this.templateObj[t]=e,console.log(this.templateObj)}},{key:"compileTemplate",value:function(t,e,r){var n=this,i=r.templateName,o={nodes:[],edges:[]};return t.forEach(function(t,e){var r=t.templateName?t.templateName:i,a=null;n.templateObj[r]&&n.templateObj[r].node?(a=n.templateObj[r].node,t.templateName=r):(a=n.templateObj.defaultTemplate.node,t.templateName="defaultTemplate");var s=JSON.stringify(a),l=t.defineData;s=s.replace(h,function(t,e,r,n){return l[e]?l[e]:""});var u={config:JSON.parse(s)};Object.assign(u,t),o.nodes.push(u)}),e.forEach(function(t,e){var r=t.templateName?t.templateName:i,a={config:n.templateObj[r]&&n.templateObj[r].edge?n.templateObj[r].edge:n.templateObj.defaultTemplate.edge};Object.assign(a,t),o.edges.push(a),n.updateConnected(o.nodes,t)}),console.log("compileObj"),console.log(o),o}},{key:"updateConnected",value:function(t,e){var r=e.src,n=e.to,i=r.split(":")[0],o=Number(r.split(":")[1]),a=n.split(":")[0],s=Number(n.split(":")[1]);t.some(function(t){t.id===i?t.output[o].status="connected":t.id===a&&(t.input[s].status="connected")})}},{key:"getTemplate",value:function(t){return this.templateObj[t]?this.templateObj[t]:null}},{key:"updateTemplate",value:function(t,e){i.a.util.merge(this.templateObj[t],e)}}]),t}(),u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.options=Object.assign({},{isStatic:!0,templateName:"defaultTemplate",autoSort:!1,horizontal:!0,draggable:!0},e)}return u(t,[{key:"getZrOptions",value:function(){var t=this,e={renderer:"canvas",devicePixelRatio:"2",width:"auto",height:"auto"};if(!this.zrOptions){var r=Object.keys(e);this.zrOptions=Object.assign({},e),r.forEach(function(e){t.options[e]&&(t.zrOptions[e]=t.options[e])})}return this.zrOptions}}]),t}(),f=r(0),d=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var v=function(){function t(){p(this,t)}return d(t,[{key:"render",value:function(){}},{key:"getRecPointsPosition",value:function(t,e,r){var n=r||this.dom.box;if(n&&Array.isArray(t)){var i=n.shape,o=i.x,a=i.y,s=i.width,h=i.height,l=[],u=0;switch(e){case"top":l=[o,a],u=s/(t.length+1);break;case"right":l=[o+s,a],u=h/(t.length+1);break;case"bottom":l=[o,a+h],u=s/(t.length+1);break;case"left":l=[o,a],u=h/(t.length+1);break;default:l=[o,a],u=s/(t.length+1)}return t.map(function(t,r){return"right"===e||"left"===e?[l[0],l[1]+u*(r+1)]:"top"===e||"bottom"===e?[l[0]+u*(r+1),l[1]]:void 0})}return[]}},{key:"getPolygonPointsPosition",value:function(t,e){var r=e||this.dom.box;if(r&&Array.isArray(t)){var n=r.shape,i=n.points,o=n.width,a=n.height;o=o||i[1][0]-i[3][0],a=a||i[2][1]-i[0][1];var s=[];return t.map(function(t,e){switch(t.align||"bottom"){case"top":s=i[0];break;case"right":s=i[1];break;case"bottom":s=i[2];break;case"left":s=i[3];break;default:s=i[0]}return[s[0],s[1]]})}return[]}}],[{key:"registerNode",value:function(t,e){if(this.nodeClazz[t])throw new Error("Do not repeat extends Node with same templateName: "+t);this.nodeClazz[t]=e}},{key:"getClazzByName",value:function(t){return this.nodeClazz[t]}},{key:"extend",value:function(e){var r=function(r){function n(t){p(this,n);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return r.props=f.mergeAll([{},e.props,t&&t.props?t.props:{}],!0),r.drawName=e.drawName,e.$constructor&&e.$constructor.call(r,t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,t),d(n,null,[{key:"extend",value:function(e){t.extend.call(this,e)}}]),n}();return f.extend(r.prototype,e),this.registerNode(e.drawName,r),r}}]),t}(),g=v;v.nodeClazz={};var m=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _=function(){function t(){y(this,t)}return m(t,[{key:"render",value:function(){}}],[{key:"registerEdge",value:function(t,e){if(this.edgeClazz[t])throw new Error("Do not repeat extends edge with same name: "+t);this.edgeClazz[t]=e}},{key:"getClazzByName",value:function(t){return this.edgeClazz[t]}},{key:"extend",value:function(e){var r=function(r){function n(t){y(this,n);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return r.props=f.mergeAll([{},e.props,t&&t.props?t.props:{}],!0),r.drawName=e.drawName,e.$constructor&&e.$constructor.call(r,t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,t),m(n,null,[{key:"extend",value:function(e){t.extend.call(this,e)}}]),n}();return f.extend(r.prototype,e),this.registerEdge(e.drawName,r),r}}]),t}(),x=_;_.edgeClazz={};var b=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var k=function(){function t(){w(this,t)}return b(t,[{key:"render",value:function(){}}],[{key:"registerDraw",value:function(t,e){if(this.draw[t])throw new Error("Do not repeat extends Draw with same drawName: "+t);this.draw[t]=e}},{key:"getClazzByName",value:function(t){return this.draw[t]}},{key:"extend",value:function(e){var r=function(r){function n(t){w(this,n);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return r.props=f.mergeAll([{},e.props,t&&t.props?t.props:{}],!0),r.drawName=e.drawName,e.$constructor&&e.$constructor.call(r,t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,t),b(n,null,[{key:"extend",value:function(e){t.extend.call(this,e)}}]),n}();return f.extend(r.prototype,e),this.registerDraw(e.drawName,r),r}}]),t}(),C=k;k.draw={};var T=r(5),P=r.n(T),S=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function M(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var E=function(){function t(){M(this,t),this.props={normal:{}},this.options={},this.status="normal",this.dom=null}return S(t,[{key:"render",value:function(){}},{key:"init",value:function(){var t=this;if(this.dom=this.render(),!this.dom)throw new Error("render() function needs return a zrender.Displayable instance");var e=this.status;this.dom.on("mouseover",function(){t.setStatus("hover")}),this.dom.on("mouseout",function(){t.setStatus(e)})}},{key:"setStatus",value:function(t){this.props[t]&&(this.status=t),this.setRenderProps()}},{key:"setRenderProps",value:function(){this.dom&&this.dom.attr(this.getRenderProps())}},{key:"getRenderProps",value:function(){var t=this.props.normal;return this.props[this.status]&&(t=this.props[this.status]),f.merge({},t)}}],[{key:"registerShape",value:function(t,e){if(this.clazz[t])throw new Error("Do not repeat extends Shape with same type: "+t);this.clazz[t]=e}},{key:"getClazzByName",value:function(t){return this.clazz[t]}},{key:"extend",value:function(e){var r=function(r){function n(t){M(this,n);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return r.props=f.mergeAll([{},e.props,t&&t.props?t.props:{}],!0),r.options=f.mergeAll([{},e.options,t&&t.options?t.options:{}],!0),r.status=r.options.status||"normal",r.type=e.type,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,t),S(n,null,[{key:"extend",value:function(e){t.extend.call(this,e)}}]),n}();return f.extend(r.prototype,e),this.registerShape(e.type,r),r}}]),t}(),O=E;E.clazz={};var A=r(28),z=r.n(A),L=(O.extend({type:"Rect",props:{normal:{shape:{},style:{}},hover:{shape:{},style:{}}},render:function(){return new z.a(this.getRenderProps())}}),r(7)),R=r.n(L),D=(O.extend({type:"Text",props:{normal:{shape:{},style:{}}},render:function(){var t=new R.a(this.getRenderProps());return t.position=this.props.position,t}}),r(8)),I=r.n(D),B=(O.extend({type:"Image",props:{normal:{shape:{},style:{}}},render:function(){return new I.a(this.getRenderProps())}}),r(30)),j=r.n(B),N=(O.extend({type:"Circle",props:{position:[0,0],normal:{shape:{},style:{}}},render:function(t){var e=new j.a(this.getRenderProps());return e.position=this.props.position,e}}),r(15)),F=r.n(N),H=(O.extend({type:"Polygon",props:{normal:{shape:{},style:{}},hover:{shape:{},style:{}}},render:function(){return new F.a(this.getRenderProps())}}),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}),W=(g.extend({drawName:"basicNode",props:{id:"",nodeName:"",position:[0,0],input:[],output:[],config:{}},$constructor:function(){this.dom={},this.dom.group=new P.a,this.children={}},renderInputCircle:function(){var t=this;if(Array.isArray(this.props.input)){var e=this.dom.group,r=this.props.config.inputCircle.circlePosition||"top",n="Polygon"===this.props.config.box.name?this.getPolygonPointsPosition(this.props.input):this.getRecPointsPosition(this.props.input,r);this.props.input.forEach(function(r,i){var o=O.getClazzByName("Circle"),a=n[i],s=new o({props:H({},t.props.config.inputCircle||{},{position:a})});"connected"===r.status&&s.setStatus("connected"),s.init(),e.add(s.dom),Array.isArray(t.dom.inputCircles)?(t.dom.inputCircles.push(s.dom),t.children.inputCircles.push(s)):(t.dom.inputCircles=[s.dom],t.children.inputCircles=[s])})}},renderOutputCircle:function(){var t=this;if(Array.isArray(this.props.output)){var e=this.dom.group,r=this.props.config.box.name,n="";"Polygon"===r||(n=this.props.config.outputCircle.circlePosition||"bottom");var i="Polygon"===r?this.getPolygonPointsPosition(this.props.output):this.getRecPointsPosition(this.props.output,n);this.props.output.forEach(function(r,n){var o=O.getClazzByName("Circle"),a=i[n],s=new o({props:H({},t.props.config.outputCircle||{},{position:a})});s.init(),e.add(s.dom),Array.isArray(t.dom.outputCircles)?(t.dom.outputCircles.push(s.dom),t.children.outputCircles.push(s)):(t.dom.outputCircles=[s.dom],t.children.outputCircles=[s])})}},render:function(t){var e=this.dom.group;if(e&&e.removeAll(),e.position[0]=this.props.position[0],e.position[1]=this.props.position[1],this.props.config){for(var r in this.props.config)if(this.props.config.hasOwnProperty(r)&&"inputCircle"!==r&&"outputCircle"!==r){var n=this.props.config[r],i=new(O.getClazzByName(n.name))({props:n,options:t});i.init(),this.dom[r]=i.dom,this.children[r]=i,e.add(i.dom)}this.renderInputCircle(),this.renderOutputCircle()}return e}}),r(31)),q=r.n(W);function U(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];if(0===e.length)throw new Error("数组为空");var n=[];try{for(var i=0;i<e.length;i++)for(var o=0;o<e[i].length;o++){var a=Number(e[i][o]);isNaN(a)?n[o]?n[o]+=e[i][o]:n[o]=e[i][o]:n[o]?n[o]+=a:n[o]=a}}catch(t){console.log("遍历出问题了")}return n}function V(t,e){var r=t.src.split(":"),n=t.to.split(":"),i=e.find(function(t){return t.props.id===r[0]}),o=e.find(function(t){return t.props.id===n[0]});if(!i||!o)return null;var a={top:"bottom",right:"left",bottom:"top",left:"right"}[o.props.config.inputCircle.circlePosition||"bottom"],s=i.dom.group.position,h=o.dom.group.position,l=i.children.outputCircles[r[1]].dom,u=l.position,c=l.shape.r+l.style.lineWidth-1,f=[0,0],d=o.children.inputCircles[n[1]].dom,p=d.position,v=d.shape.r+d.style.lineWidth-1,g=[0,0];if(!l.invisible)switch(a){case"top":f=[0,-1*c];break;case"right":f=[c,0];break;case"bottom":f=[0,c],g=[0,-1*v];break;case"left":f=[-1*c,0]}if(!d.invisible)switch(a){case"top":g=[0,v];break;case"right":g=[-1*v,0];break;case"bottom":g=[0,-1*v];break;case"left":g=[v,0]}return{start:U(s,u,f),end:U(h,p,g),pointTo:a}}function X(t,e,r,n){var i=[];switch(i.push(r),n){case"top":i.push([r[0]-t/2,r[1]+e]),i.push(r[0]+t/2,r[1]+e);break;case"right":i.push([r[0]-e,r[1]-t/2]),i.push([r[0]-e,r[1]+t/2]);break;case"bottom":i.push([r[0]-t/2,r[1]-e]),i.push([r[0]+t/2,r[1]-e]);break;case"left":i.push([r[0]+e,r[1]-t/2]),i.push([r[0]+e,r[1]+t/2]);break;default:i.push([r[0]-t/2,r[1]-e]),i.push([r[0]+t/2,r[1]-e])}return i}function Y(t,e){var r=e.workflowObj,n=r.nodes.some(function(e,r){return e.dom.group.id===t.parent.id}),i=r.edges.some(function(e,r){return e.dom.group.id===t.parent.id});return n?"node":i?"edge":""}function G(t,e,r){t.parent.id;var n=r.workflowObj;if("node"===e){var i=n.nodes.find(function(e){return e.dom.group.id===t.parent.id});return{defineData:i.props.defineData,id:i.props.id}}if("edge"===e){var o=n.edges.find(function(e){return e.dom.group.id===t.parent.id});return{src:o.props.src,to:o.props.to}}}O.extend({type:"BezierCurve",props:{normal:{shape:{},style:{}}},render:function(){var t=this.getRenderProps();return t.shape.x1=this.props.start[0],t.shape.y1=this.props.start[1],t.shape.x2=this.props.end[0],t.shape.y2=this.props.end[1],function(t,e,r){var n=t,i=e;switch(r){case"top":n=U(t,[0,-20]),i=U(e,[0,20]);break;case"right":n=U(t,[20,0]),i=U(e,[-20,0]);break;case"bottom":n=U(t,[0,20]),i=U(e,[0,-20]);break;case"left":n=U(t,[-20,0]),i=U(e,[20,0])}return[n,i]}(this.props.start,this.props.end,this.props.pointTo).forEach(function(e,r){t.shape["cpx"+(r+1)]=e[0],t.shape["cpy"+(r+1)]=e[1]}),new q.a(t)}}),O.extend({type:"Triangle",props:{normal:{shape:{},style:{}}},render:function(){var t=this.getRenderProps(),e=this.props.end,r=X(t.shape.width,t.shape.height,e,this.props.pointTo);return t.shape.points=r,new F.a(t)}});var $=r(29),Z=r.n($),Q=(O.extend({type:"Line",props:{normal:{shape:{},style:{}}},init:function(){var t=this;if(this.dom=this.render(),!this.dom)throw new Error("render() function needs return a zrender.Displayable instance");var e=this.status;this.dom.on("mouseover",function(){t.setStatus("hover")}),this.dom.on("mouseout",function(){t.setStatus(e)})},render:function(t){var e=this.getRenderProps();return e.shape.x1=this.props.x1,e.shape.y1=this.props.y1,e.shape.x2=this.props.x2,e.shape.y2=this.props.y2,new Z.a(e)}}),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}),J=(x.extend({drawName:"basicEdge",props:{},$constructor:function(){this.dom={group:new P.a},this.children={}},renderTriangle:function(){var t=this.dom.group;if(this.props.config.triangle){var e=this.props.config.triangle,r=new(O.getClazzByName(e.name))({props:Q({start:this.props.start,end:this.props.end,pointTo:this.props.pointTo},e)});r.init(),this.dom.triangle=r.dom,this.children.triangle=r,t.add(r.dom)}},renderText:function(){var t=this.dom.group;if(this.props.text&&this.props.text.trim().length>0){var e=new(O.getClazzByName("Text"))({props:{normal:{style:{text:this.props.text,textFill:"#2A2F44",fontSize:15}},position:this.props.textPosition}});e.init(),this.dom.text=e.dom,this.children.text=e,t.add(e.dom)}},render:function(t){var e=this,r=this.dom.group;if(r&&r.removeAll(),this.renderText(),this.props.config&&this.props.passPos){var n=new P.a,i=new P.a;this.renderTriangle();var o=this.props.config.line,a=this.props.config.backline,s=O.getClazzByName("Line"),h=this.props,l=h.start,u=h.end,c=h.passPos,f=h.pointTo,d=this.dom.triangle.shape.height;switch(f){case"top":u[1]=this.props.end[1]+d;break;case"right":u[0]=this.props.end[0]-d;break;case"bottom":u[1]=this.props.end[1]-d;break;case"left":u[0]=this.props.end[0]+d;break;default:u[1]=this.props.end[1]+d}c.unshift(l),c.push(u);var p=c.length;c.forEach(function(t,e){if(e<p-1){var r=Q({},o,{x1:t[0],y1:t[1],x2:c[e+1][0],y2:c[e+1][1]}),h=Q({},a,{x1:t[0],y1:t[1],x2:c[e+1][0],y2:c[e+1][1]}),l=new s({props:r});l.init(),n.add(l.dom);var u=new s({props:h});u.init(),i.add(u.dom)}}),this.dom.backline=i,this.children.backline=i,r.add(i),this.dom.line=n,this.children.line=n,r.add(n),n.on("mouseover",function(){n._children.forEach(function(t){t.trigger("mouseover")}),e.dom.triangle.trigger("mouseover")}),n.on("mouseout",function(){n._children.forEach(function(t){return t.trigger("mouseout")}),e.dom.triangle.trigger("mouseout")})}else this.props.config&&(this.renderTriangle(),Object.keys(this.props.config).forEach(function(n){var i=e.props.config[n];if("Triangle"!==i.name){var o=O.getClazzByName(i.name),a=Q({start:Array.from(e.props.start),end:Array.from(e.props.end),pointTo:e.props.pointTo},i),s=e.dom.triangle.shape.height;switch(e.props.pointTo){case"top":a.end[1]=e.props.end[1]+s;break;case"right":a.end[0]=e.props.end[0]-s;break;case"bottom":a.end[1]=e.props.end[1]-s;break;case"left":a.end[0]=e.props.end[0]+s;break;default:a.end[1]=e.props.end[1]+s}var h=new o({props:a,options:t});h.init(),e.dom[n]=h.dom,e.children[n]=h,r.add(h.dom)}}));return this.dom.group}}),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}),K=(C.extend({drawName:"basic",props:{nodes:[],edges:[]},$constructor:function(){this.nodes=[],this.edges=[]},render:function(t,e){var r=this;this.nodes=[],this.edges=[];var n=new P.a;return Array.isArray(this.props.nodes)&&this.props.nodes.forEach(function(t){var i=new(g.getClazzByName("basicNode"))({props:t});r.nodes.push(i),n.add(i.render(e))}),Array.isArray(this.props.edges)&&this.props.edges.forEach(function(t){var i=V(t,r.nodes),o=J({},i,t),a=new(x.getClazzByName("basicEdge"))({props:o});r.edges.push(a),n.add(a.render(e))}),n}}),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}),tt=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var et=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return tt(t,null,[{key:"addDefaultEventHandlers",value:function(t){t.data;var e=t.workflowObj,r=t.dom,n=t.optionsManager.options.isStatic,o=t._zr,a=r.style,s=(a.canvasWidth,a.canvasHeight,!1),h=null,l=null,u="",c="",f=null,d=!1,p=null,v=[];function g(t){return e.nodes.forEach(function(r){var n=r.dom.inputCircles,i=r.props.config.inputCircle;n&&n.forEach(function(r,n){!function(t,e){return t.parent.id===e.parent.id}(r,t)&&function(t){return!e.edges.map(function(t){var r=t.props.to.split(":"),n=r[0],i=r[1],o=void 0;return e.nodes.forEach(function(t){t.props.id===n&&t.dom.inputCircles[i]&&(o=t.dom.inputCircles[i])}),o}).includes(t)}(r)&&(v.push(r),y(r,i.guide))})}),v}function m(t,e,r){t.on("mouseover",function(){y(this,r||e)}),t.on("mouseout",function(){y(this,e)})}function y(t,e){if(t){var r=e.style,n=e.shape;if("bezier-curve"!==t.type){if("text"===t.type){var i=e.style;i.text;r=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}(i,["text"])}t.attr({style:r,shape:n})}else t.attr("style",r)}}e.nodes.forEach(function(t){var e=t.props.config;m(t.dom.box,e.box.normal,e.box.hover),m(t.dom.text,e.text.normal,e.text.hover),t.dom.inputCircles&&t.dom.inputCircles.forEach(function(t){var r=e.inputCircle;m(t,r.normal,r.hover)}),t.dom.outputCircles&&t.dom.outputCircles.forEach(function(t){var r=e.outputCircle;m(t,r.normal,r.hover)})}),e.edges.forEach(function(t){var e=t.props.config;m(t.dom.line,e.line.normal,e.line.hover),m(t.dom.backline,e.backline.normal,e.backline.hover),m(t.dom.triangle,e.triangle.normal,e.triangle.hover)}),o.on("mousedown",function(r){t.triggerCustomEvent("mousedown",r),function(r,o){"CANVAS"===o.event.target.tagName&&t.menuManager.hideMenus();if(!o.target||n)return;s=!0;var a=function(t){var r="",n=null,i=[],o=null;return e.nodes.some(function(e,a){var s=e.props.id;return!!e.dom.outputCircles&&e.dom.outputCircles.some(function(a,h){return!!a.contain(t.offsetX,t.offsetY)&&(r=s+":"+h,n=a,a.parent,i=g(a),o=e,!0)})}),{srcStr:r,outputCircle:n,inputGuideCircles:i,srcNode:o}}(o),c=a.outputCircle,d=a.srcNode;v=a.inputGuideCircles,""!==a.srcStr&&(u=a.srcStr,f=function(t,e,r){var n=r.props.config.outputCircle.normal,o=t.position[0]+1*t.parent.position[0],a=t.position[1]+n.shape.r+1*t.parent.position[1];return function(t,e,r){var n=i.a.vector.create(o,a),s=i.a.vector.create(r.offsetX,r.offsetY);if(i.a.vector.distance(s,n)>10){e&&t.remove(e);var h=new i.a.Line({shape:{x1:o,y1:a,x2:r.offsetX,y2:r.offsetY}});return t.add(h),h}}}(c,0,d),v.forEach(function(t,e){y(t,d.props.config.inputCircle.guide)}));"node"===Y(o.target,t)&&(h=o.target.parent,p=h,_=[(m=o).event.zrX-p.position[0],m.event.zrY-p.position[1]],l=function(t,e,r){var n=t.style,i=n.canvasWidth,o=n.canvasHeight,a=e.workflowObj,s=a.nodes.find(function(t){return t.dom.group.id===p.id}).props.config.box.normal,h=s.shape.width,l=s.shape.height,u=[r.event.zrX,r.event.zrY],c=[u[0]-_[0],u[1]-_[1]];c[0]<0&&(c[0]=0),c[0]>i-h&&(c[0]=i-h),c[1]<4&&(c[1]=4),c[1]>o-l-4&&(c[1]=o-l-4),p.position=c,p.dirty();var f=a.nodes.find(function(t){return t.dom.group.id===p.id});e.triggerCustomEvent("dragNode",{target:f})});var p,m,_}(0,r)}),o.on("mouseup",function(r){t.triggerCustomEvent("mouseup",r),function(r,n){if(p&&o.remove(p),v.forEach(function(e,r){y(e,function(t,e){return e.workflowObj.nodes.find(function(e,r){return e.dom.group.id===t.parent.id})}(e,t).props.config.inputCircle.normal)}),v=[],d&&(a=u,h=c,!e.edges.some(function(t,e){return t.props.src===a&&t.props.to===h}))){var i={src:u,to:c};t.addEdge(i)}var a,h;s=!1,d=!1,u="",c="",f=null,p=null}()}),o.on("click",function(e){t.triggerCustomEvent("click",e)}),o.on("mousemove",function(i){t.triggerCustomEvent("mousemove",i),function(i,a){if(n)return!1;var u=void 0;if(e.nodes.forEach(function(t,e){var r=t.props.config.inputCircle;t.dom.inputCircles&&t.dom.inputCircles.forEach(function(e,n){v.includes(e)&&(e.contain(a.offsetX,a.offsetY)?(y(e,r.guideHover||r.guide),c=t.props.id+":"+n,u=!0):y(e,r.guide))})}),!s)return;if("function"==typeof f)return p=f(o,p,a),void(d=!!u);!n&&h&&"function"==typeof l&&(l(r,t,a),function(){for(var e=t.workflowObj,r=0;r<e.edges.length;r++){var n=e.edges[0],i=K({},n.props);delete i.start,delete i.end,delete i.config.triangle.start,delete i.config.triangle.end,t.removeEdge(i,!0),t.addEdge(i,!0)}}())}(0,i)}),o.on("contextmenu",function(e){e.event.preventDefault(),s=!1,t.triggerCustomEvent("contextmenu",e),function(e){if(!e.target)return!1;t.menuManager.showMenus(e)}(e)})}}]),t}(),rt=r(9),nt=r.n(rt),it=(r(50),function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}());var ot="node",at="edge",st=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.edgeMenuContainer=this.createMenuContainer(),this.nodeMenuContainer=this.createMenuContainer(),this.ctx=e,this.menuMap=new WeakMap,this.target=null}return it(t,[{key:"buildEdgeMenus",value:function(t){var e=this;t.forEach(function(t){var r=e.createMenuDom(t,at);e.edgeMenuContainer.appendChild(r)})}},{key:"buildNodeMenus",value:function(t){var e=this;t.forEach(function(t){var r=e.createMenuDom(t,ot);e.nodeMenuContainer.appendChild(r)})}},{key:"createMenuContainer",value:function(){var t=document.createElement("div");return t.className="menu-container",t}},{key:"createMenuDom",value:function(t,e){var r=this,n=document.createElement("div");return n.innerHTML=t.name,n.className="item",n.addEventListener("click",function(i){if(!(n.className.indexOf("disabled")>-1)&&r.target){var o=G(r.target,e,r.ctx);t.click(o,r.ctx),r.hideMenus()}}),this.menuMap.set(n,t),n}},{key:"hideMenus",value:function(){this.target=null;var t=this.getContainerDom();t.contains(this.nodeMenuContainer)&&t.removeChild(this.nodeMenuContainer),t.contains(this.edgeMenuContainer)&&t.removeChild(this.edgeMenuContainer)}},{key:"showMenus",value:function(t){this.hideMenus(),this.target=t.target;var e=null,r=Y(this.target,this.ctx);(e=r===ot?this.nodeMenuContainer:r===at?this.edgeMenuContainer:null)&&e.children.length>0&&(e.style.cssText="\n                left:"+t.event.zrX+";\n                top:"+t.event.zrY+";\n            ",this.checkMenuStatus(e,r),this.getContainerDom().appendChild(e))}},{key:"checkMenuStatus",value:function(t,e){for(var r=0;r<t.children.length;r++){var n=t.children[r],i=this.menuMap.get(n);if("function"==typeof i.isEnabled){var o=G(this.target,e,this.ctx);i.isEnabled(o,this.ctx)||(n.className="item disabled")}}}},{key:"getContainerDom",value:function(){return this.ctx.dom.querySelector(":scope>div")}}]),t}(),ht=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lt=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var ut=new l,ct=function(){function t(e,r,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e||!f.isDom(e))throw new TypeError("Aworkflow needs a HTMLDomElement to render");this.dom=e,this.data=r,this.optionsManager=new c(n),this._zr=i.a.init(e,this.optionsManager.getZrOptions()),this.workflowObj={},this.drawGroup=null,this.maxCoord={x:0,y:0},this.render(),this.menuManager=new st(this),et.addDefaultEventHandlers(this),nt.a.call(this)}return lt(t,[{key:"setWorkflowObj",value:function(t){this.workflowObj={nodes:t.nodes,edges:t.edges}}},{key:"getNodesIns",value:function(){return this.workflowObj.nodes}},{key:"getNodeInsById",value:function(t){return this.workflowObj.nodes.find(function(e){return e.props.id===t})}},{key:"getEdgesIns",value:function(){return this.workflowObj.edges}},{key:"getEdgeInsById",value:function(t,e){return this.workflowObj.edges.find(function(r){return t===r.props.src&&e===r.props.to})}},{key:"getMaxCoord",value:function(){return this.maxCoord}},{key:"render",value:function(){var t=this.data,e=t.nodes,r=t.edges,n=ut.compileTemplate(e,r,this.optionsManager.options);if(this.optionsManager.options.autoSort){n.nodes=function(t){t.nodes.forEach(function(t,e){t.level=1});for(var e="",r="",n=null,i=null,o=1,a=0,s=t.edges.length;a<s-1;a++)for(var h=0;h<s-1-a;h++)if(t.edges[h].src.split(":")[0]===t.edges[h+1].to.split(":")[0]){var l=t.edges[h];t.edges[h]=t.edges[h+1],t.edges[h+1]=l}t.edges.forEach(function(a,s){e=a.src.split(":")[0],a.src.split(":")[1],r=a.to.split(":")[0],a.to.split(":")[1],t.nodes.forEach(function(t){t.id===e?n=t:t.id===r&&(i=t)}),i.level=Math.max(i.level,n.level+1),o=Math.max(o,i.level),n.children?n.children.push(i.id):n.children=[i.id],i.parents?i.parents.push(n.id):i.parents=[n.id]}),t.nodes.forEach(function(t){void 0===t.children&&(t.children=[]),void 0===t.parents&&(t.parents=[])});var u=new Array(o),c=0,f=void 0,d=0,p=0,v=t.nodes.length;for(d=0;d<v-1;d++)for(p=0;p<v-1-d;p++)t.nodes[p].level>t.nodes[p+1].level&&(f=t.nodes[p],t.nodes[p]=t.nodes[p+1],t.nodes[p+1]=f);for(d=0;d<v-1;d++)for(p=0;p<v-1-d;p++)1===t.nodes[p].level&&1===t.nodes[p+1].level&&t.nodes[p].children.length<t.nodes[p+1].children.length&&(f=t.nodes[p],t.nodes[p]=t.nodes[p+1],t.nodes[p+1]=f);console.log(t.nodes),t.nodes.forEach(function(t){var e=t.level;u[e-1]=void 0===u[e-1]?1:u[e-1]+1,t.order=u[e-1],c=Math.max(c,t.order),void 0===t.children&&(t.children=[]),void 0===t.parents&&(t.parents=[])});var g=t.horizontal,m=void 0===g||g,y=t.align,_=void 0===y?"middle":y,x=t.beginX,b=void 0===x?10:x,w=t.beginY,k=void 0===w?10:w,C=t.spaceX,T=void 0===C?200:C,P=t.spaceY,S=void 0===P?100:P,M=0,E=0,O=[];function A(e,r,n){var i=e.level,o=e.order,a=e.children;a.length,t.nodes.forEach(function(t,e){t.level<=i&&(t.order===o?t.order+=r:t.order>o&&(t.order+=n))}),t.nodes.filter(function(t){return a.includes(t.id)}).forEach(function(t,e){t.order=o+e})}function z(e){var r=e.parents,n=t.nodes.find(function(t){return t.id===r[0]});1===n.children.length&&(e.order=n.order)}var L=0,R=0;return t.nodes.forEach(function(t,e){"middle"===_?t.children&&t.children.length>1?(L=(t.children.length-1)/2,R=t.children.length-1,A(t,L,R)):t.parents&&1===t.parents.length&&z(t):"end"===_&&(t.children&&t.children.length>1?A(t,L=t.children.length-1,L):t.parents&&t.parents.length>1||t.parents&&1===t.parents.length&&z(t))}),console.log("最新："),console.log(t.nodes),console.log(t.edges),m?t.nodes.forEach(function(t,e){M=b+(t.level-1)*T,E=k+(t.order-1)*S,t.position=[M,E];var r={};Object.assign(r,t);var n=t.config.inputCircle,i=t.config.outputCircle,o=r.config.inputCircle,a=r.config.outputCircle;o.circlePosition=n.horizontalCirclePosition||n.circlePosition||"left",a.circlePosition=i.horizontalCirclePosition||i.circlePosition||"right",O.push(r)}):t.nodes.forEach(function(t,e){M=b+(t.order-1)*T,E=k+(t.level-1)*S,t.position=[M,E],delete t.order,delete t.level;var r={};Object.assign(r,t);var n=t.config.inputCircle,i=t.config.outputCircle,o=r.config.inputCircle,a=r.config.outputCircle;o.circlePosition=n.verticalCirclePosition||n.circlePosition||"top",a.circlePosition=i.verticalCirclePosition||i.circlePosition||"bottom",O.push(r)}),console.log(O),O}(Object.assign({nodes:n.nodes,edges:n.edges},this.optionsManager.options));var i=[],o=[];n.nodes.forEach(function(t){i.push(t.position[0]),o.push(t.position[1])}),this.maxCoord.x=Math.max.apply(Math,i),this.maxCoord.y=Math.max.apply(Math,o)}var a=new(C.getClazzByName("basic"))({props:n});this.drawGroup=a.render(this._zr,this.optionsManager.options),this._zr.add(this.drawGroup),this.setWorkflowObj(a)}},{key:"getTemplate",value:function(t){return ut.getTemplate.call(ut,t)}},{key:"updateTemplate",value:function(t,e){ut.updateTemplate.call(ut,t,e)}},{key:"addNode",value:function(t,e){if(this.findNodeIndex(t.id)>-1)throw new Error("Node with id("+t.id+") is exist");var r=this.optionsManager.options,n=ut.compileTemplate([t],[],r),i=new(g.getClazzByName("basicNode"))({props:n.nodes[0]});this.drawGroup.add(i.render(this.optionsManager.options)),this.workflowObj.nodes.push(i),this.data.nodes.push(t),e||this.triggerCustomEvent("addNode",{target:i})}},{key:"removeNode",value:function(t,e){var r=this.findNodeIndex(t.id),n=void 0;r>-1&&(n=this.workflowObj.nodes[r],this.workflowObj.nodes.splice(r,1),this.removeEl(n.dom.group)),this.data.nodes=this.data.nodes.filter(function(e){return e.id!==t.id}),this.updateEdgeByNode(t.id),e||this.triggerCustomEvent("removeNode",{target:n})}},{key:"addEdge",value:function(t,e){var r=this.optionsManager.options,n=ut.compileTemplate([],[t],r).edges[0],i=V(n,this.workflowObj.nodes);if(i){var o=ht({},i,n),a=new(x.getClazzByName("basicEdge"))({props:o});this.drawGroup.add(a.render(this.optionsManager.options)),this.workflowObj.edges.push(a),this.data.edges.push(t),e||this.triggerCustomEvent("addEdge",{target:a})}}},{key:"removeEdge",value:function(t,e){var r=this.workflowObj.edges.findIndex(function(e){return e.props.src===t.src&&e.props.to===t.to}),n=void 0;r>-1&&(n=this.workflowObj.edges[r],this.workflowObj.edges.splice(r,1),this.removeEl(n.dom.group)),this.data.edges=this.data.edges.filter(function(e){return e.src===t.src&&e.to===t.to}),e||this.triggerCustomEvent("removeEdge",{target:n})}},{key:"removeEl",value:function(t){this.drawGroup.remove(t)}},{key:"setScale",value:function(t,e){this._zr&&this.drawGroup&&(this.drawGroup.attr({scale:[t,t],origin:e}),this._zr.flush())}},{key:"findNodeIndex",value:function(t){return this.workflowObj.nodes.findIndex(function(e){return e.props.id===t})}},{key:"findEdgeIndex",value:function(t,e){return this.workflowObj.edges.findIndex(function(r){return r.props.src===t&&r.props.to===e})}},{key:"updateNode",value:function(t,e,r){var n=this.findNodeIndex(t);if(-1===n)throw new Error("There is no node with id "+t);var i=this.workflowObj.nodes[n];if(f.isObject(e)&&!r)i.dom.group.attr(e),e.position&&e.position.join("")!==i.props.position.join("")&&(i.props.position=Array.from(e.position),this.updateEdgeByNode(t));else{if(!f.isString(e)||!f.isObject(r))throw new Error("invalid params");if(!i.children[e])throw new Error("There is no shape with name("+e+") in node(id:"+t+")");var o=i.children[e].status,a=i.children[e].props[o];f.merge(a,r,!0),i.props.config[e]=f.merge({},i.children[e].props,!0),r.shape?(this.removeNode(i.props,!0),this.addNode(i.props,!0),this.updateEdgeByNode(t)):i.children[e].dom.attr(r)}}},{key:"updateEdge",value:function(t,e,r){if(!(t&&t.src&&t.to&&f.isString(e)&&f.isObject(r)))throw new Error("invalid params when invoking updateEdge()");var n=this.findEdgeIndex(t.src,t.to);if(-1===n)throw new Error("There is no Edge with src("+t.src+") and to("+t.to+")");var i=this.workflowObj.edges[n],o=i.children[e];if(o){var a=o.status,s=o.props[a],h=s.shape.width,l=s.shape.height;if(f.merge(s,r,!0),i.props.config[e]=f.merge({},o.props,!0),"triangle"===e)if(r.shape){if(Number(r.shape.width)!==h||Number(r.shape.height)!==l){var u=o.getRenderProps(),c=o.props.end,d=X(u.shape.width,u.shape.height,c,o.props.pointTo);u.shape.points=d,o.dom.attr(u)}this.removeEdge(i.props,!0),this.addEdge(i.props,!0)}else o.dom.attr(r);else o.dom.attr(r)}}},{key:"updateEdgeByNode",value:function(t){var e=this;this.workflowObj.edges.filter(function(e){return e.props.src.split(":")[0]===t||e.props.to.split(":")[0]===t}).forEach(function(t){var r=ht({},t.props);delete r.start,delete r.end,delete r.config.triangle.start,delete r.config.triangle.end,e.removeEdge(r,!0),e.addEdge(r,!0)})}},{key:"edgeMenus",value:function(t){this.menuManager.buildEdgeMenus(t)}},{key:"nodeMenus",value:function(t){this.menuManager.buildNodeMenus(t)}},{key:"triggerCustomEvent",value:function(t,e){if(e.target){var r=[];if(["mousedown","click","mouseover","mouseout","mouseup","mousemove","contextmenu"].indexOf(t)>-1)r.push(this,e);else{if(!(["dragNode","addEdge","removeEdge","addNode","removeNode"].indexOf(t)>-1))return void console.warn('No such custom event "'+t+'" in lib');r.push(e.target)}this.isSilent(t)&&this.trigger.apply(this,[t].concat(r))}}}],[{key:"registerTemplate",value:function(){for(var t,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];(t=ut.registerTemplate).call.apply(t,[ut].concat(r))}}]),t}(),ft=ct;f.mixin(ct,nt.a);e.default=ft},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var r=e.protocol+"//"+e.host,n=r+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?r+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,e,r){var n,i,o={},a=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=n.apply(this,arguments)),i}),s=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var r=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),h=null,l=0,u=[],c=r(46);function f(t,e){for(var r=0;r<t.length;r++){var n=t[r],i=o[n.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](n.parts[a]);for(;a<n.parts.length;a++)i.parts.push(y(n.parts[a],e))}else{var s=[];for(a=0;a<n.parts.length;a++)s.push(y(n.parts[a],e));o[n.id]={id:n.id,refs:1,parts:s}}}}function d(t,e){for(var r=[],n={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};n[a]?n[a].parts.push(s):r.push(n[a]={id:a,parts:[s]})}return r}function p(t,e){var r=s(t.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=u[u.length-1];if("top"===t.insertAt)n?n.nextSibling?r.insertBefore(e,n.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),u.push(e);else if("bottom"===t.insertAt)r.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(t.insertInto+" "+t.insertAt.before);r.insertBefore(e,i)}}function v(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function g(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),m(e,t.attrs),p(t,e),e}function m(t,e){Object.keys(e).forEach(function(r){t.setAttribute(r,e[r])})}function y(t,e){var r,n,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var a=l++;r=h||(h=g(e)),n=b.bind(null,r,a,!1),i=b.bind(null,r,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",m(e,t.attrs),p(t,e),e}(e),n=function(t,e,r){var n=r.css,i=r.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(n=c(n));i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([n],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,r,e),i=function(){v(r),r.href&&URL.revokeObjectURL(r.href)}):(r=g(e),n=function(t,e){var r=e.css,n=e.media;n&&t.setAttribute("media",n);if(t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}.bind(null,r),i=function(){v(r)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var r=d(t,e);return f(r,e),function(t){for(var n=[],i=0;i<r.length;i++){var a=r[i];(s=o[a.id]).refs--,n.push(s)}t&&f(d(t,e),e);for(i=0;i<n.length;i++){var s;if(0===(s=n[i]).refs){for(var h=0;h<s.parts.length;h++)s.parts[h]();delete o[s.id]}}}};var _,x=(_=[],function(t,e){return _[t]=e,_.filter(Boolean).join("\n")});function b(t,e,r,n){var i=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=x(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=function(t,e){var r=t[1]||"",n=t[3];if(!n)return r;if(e&&"function"==typeof btoa){var i=(a=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[r].concat(o).concat([i]).join("\n")}var a;return[r].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),e.push(a))}},e}},function(t,e,r){(t.exports=r(48)(!1)).push([t.i,".menu-container {\n  position: absolute;\n  width: 160px;\n  background-color: #fff;\n  padding: 4px;\n  box-shadow: 0 0 8px 0 rgba(36, 40, 48, 0.2);\n  border-radius: 4px;\n}\n.item {\n  position: relative;\n  height: 30px;\n  line-height: 30px;\n  font-family: MicrosoftYaHei;\n  font-size: 14px;\n  color: #222222;\n  cursor: pointer;\n}\n.disabled {\n  color: grey;\n  cursor: default;\n}\n",""])},function(t,e,r){var n=r(49);"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(47)(n,i);n.locals&&(t.exports=n.locals)},function(t,e,r){var n=r(13),i=r(32),o=r(0).each;function a(t){return parseInt(t,10)}function s(t,e){i.initVML(),this.root=t,this.storage=e;var r=document.createElement("div"),n=document.createElement("div");r.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",n.style.cssText="position:absolute;left:0;top:0;",t.appendChild(r),this._vmlRoot=n,this._vmlViewport=r,this.resize();var o=e.delFromStorage,a=e.addToStorage;e.delFromStorage=function(t){o.call(e,t),t&&t.onRemove&&t.onRemove(n)},e.addToStorage=function(t){t.onAdd&&t.onAdd(n),a.call(e,t)},this._firstPaint=!0}s.prototype={constructor:s,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,r=0;r<t.length;r++){var n=t[r];n.invisible||n.ignore?(n.__alreadyNotVisible||n.onRemove(e),n.__alreadyNotVisible=!0):(n.__alreadyNotVisible&&n.onAdd(e),n.__alreadyNotVisible=!1,n.__dirty&&(n.beforeBrush&&n.beforeBrush(),(n.brushVML||n.brush).call(n,e),n.afterBrush&&n.afterBrush())),n.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){t=null==t?this._getWidth():t,e=null==e?this._getHeight():e;if(this._width!=t||this._height!=e){this._width=t,this._height=e;var r=this._vmlViewport.style;r.width=t+"px",r.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||a(e.width))-a(e.paddingLeft)-a(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||a(e.height))-a(e.paddingTop)-a(e.paddingBottom)|0}},o(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){var e;s.prototype[t]=(e=t,function(){n('In IE8.0 VML mode painter not support method "'+e+'"')})});var h=s;t.exports=h},function(t,e,r){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(6),o=r(2).applyTransform,a=r(4),s=r(26),h=r(16),l=r(17),u=r(36),c=r(12),f=r(8),d=r(7),p=r(1),v=r(11),g=r(22),m=r(32),y=v.CMD,_=Math.round,x=Math.sqrt,b=Math.abs,w=Math.cos,k=Math.sin,C=Math.max;if(!i.canvasSupported){var T=21600,P=T/2,S=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=T+","+T,t.coordorigin="0,0"},M=function(t,e,r){return"rgb("+[t,e,r].join(",")+")"},E=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},O=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},A=function(t,e,r){return 1e5*(parseFloat(t)||0)+1e3*(parseFloat(e)||0)+r},z=function(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t},L=function(t,e,r){var n=s.parse(e);r=+r,isNaN(r)&&(r=1),n&&(t.color=M(n[0],n[1],n[2]),t.opacity=r*n[3])},R=function(t,e,r,n){var i="fill"==e,a=t.getElementsByTagName(e)[0];null!=r[e]&&"none"!==r[e]&&(i||!i&&r.lineWidth)?(t[i?"filled":"stroked"]="true",r[e]instanceof g&&O(t,a),a||(a=m.createNode(e)),i?function(t,e,r){var n,i,a=e.fill;if(null!=a)if(a instanceof g){var h,l=0,u=[0,0],c=0,f=1,d=r.getBoundingRect(),p=d.width,v=d.height;if("linear"===a.type){h="gradient";var m=r.transform,y=[a.x*p,a.y*v],_=[a.x2*p,a.y2*v];m&&(o(y,y,m),o(_,_,m));var x=_[0]-y[0],b=_[1]-y[1];(l=180*Math.atan2(x,b)/Math.PI)<0&&(l+=360),l<1e-6&&(l=0)}else{h="gradientradial",y=[a.x*p,a.y*v],m=r.transform;var w=r.scale,k=p,P=v;u=[(y[0]-d.x)/k,(y[1]-d.y)/P],m&&o(y,y,m),k/=w[0]*T,P/=w[1]*T;var S=C(k,P);c=0/S,f=2*a.r/S-c}var E=a.colorStops.slice();E.sort(function(t,e){return t.offset-e.offset});for(var O=E.length,A=[],z=[],R=0;R<O;R++){var D=E[R],I=(n=D.color,i=s.parse(n),[M(i[0],i[1],i[2]),i[3]]);z.push(D.offset*f+c+" "+I[0]),0!==R&&R!==O-1||A.push(I)}if(O>=2){var B=A[0][0],j=A[1][0],N=A[0][1]*e.opacity,F=A[1][1]*e.opacity;t.type=h,t.method="none",t.focus="100%",t.angle=l,t.color=B,t.color2=j,t.colors=z.join(","),t.opacity=F,t.opacity2=N}"radial"===h&&(t.focusposition=u.join(","))}else L(t,a,e.opacity)}(a,r,n):function(t,e){null!=e.lineDash&&(t.dashstyle=e.lineDash.join(" ")),null==e.stroke||e.stroke instanceof g||L(t,e.stroke,e.opacity)}(a,r),E(t,a)):(t[i?"filled":"stroked"]="false",O(t,a))},D=[[],[],[]];p.prototype.brushVML=function(t){var e=this.style,r=this._vmlEl;r||(r=m.createNode("shape"),S(r),this._vmlEl=r),R(r,"fill",e,this),R(r,"stroke",e,this);var n=this.transform,i=null!=n,a=r.getElementsByTagName("stroke")[0];if(a){var s=e.lineWidth;if(i&&!e.strokeNoScale){var h=n[0]*n[3]-n[1]*n[2];s*=x(b(h))}a.weight=s+"px"}var l=this.path||(this.path=new v);this.__dirtyPath&&(l.beginPath(),this.buildPath(l,this.shape),l.toStatic(),this.__dirtyPath=!1),r.path=function(t,e){var r,n,i,a,s,h,l=y.M,u=y.C,c=y.L,f=y.A,d=y.Q,p=[],v=t.data,g=t.len();for(a=0;a<g;){switch(n="",r=0,i=v[a++]){case l:n=" m ",r=1,s=v[a++],h=v[a++],D[0][0]=s,D[0][1]=h;break;case c:n=" l ",r=1,s=v[a++],h=v[a++],D[0][0]=s,D[0][1]=h;break;case d:case u:n=" c ",r=3;var m,b,C=v[a++],S=v[a++],M=v[a++],E=v[a++];i===d?(m=M,b=E,M=(M+2*C)/3,E=(E+2*S)/3,C=(s+2*C)/3,S=(h+2*S)/3):(m=v[a++],b=v[a++]),D[0][0]=C,D[0][1]=S,D[1][0]=M,D[1][1]=E,D[2][0]=m,D[2][1]=b,s=m,h=b;break;case f:var O=0,A=0,z=1,L=1,R=0;e&&(O=e[4],A=e[5],z=x(e[0]*e[0]+e[1]*e[1]),L=x(e[2]*e[2]+e[3]*e[3]),R=Math.atan2(-e[1]/L,e[0]/z));var I=v[a++],B=v[a++],j=v[a++],N=v[a++],F=v[a++]+R,H=v[a++]+F+R;a++;var W=v[a++],q=I+w(F)*j,U=B+k(F)*N,V=(C=I+w(H)*j,S=B+k(H)*N,W?" wa ":" at ");Math.abs(q-C)<1e-4&&(Math.abs(H-F)>.01?W&&(q+=.0125):Math.abs(U-B)<1e-4?W&&q<I||!W&&q>I?S-=.0125:S+=.0125:W&&U<B||!W&&U>B?C+=.0125:C-=.0125),p.push(V,_(((I-j)*z+O)*T-P),",",_(((B-N)*L+A)*T-P),",",_(((I+j)*z+O)*T-P),",",_(((B+N)*L+A)*T-P),",",_((q*z+O)*T-P),",",_((U*L+A)*T-P),",",_((C*z+O)*T-P),",",_((S*L+A)*T-P)),s=C,h=S;break;case y.R:var X=D[0],Y=D[1];X[0]=v[a++],X[1]=v[a++],Y[0]=X[0]+v[a++],Y[1]=X[1]+v[a++],e&&(o(X,X,e),o(Y,Y,e)),X[0]=_(X[0]*T-P),Y[0]=_(Y[0]*T-P),X[1]=_(X[1]*T-P),Y[1]=_(Y[1]*T-P),p.push(" m ",X[0],",",X[1]," l ",Y[0],",",X[1]," l ",Y[0],",",Y[1]," l ",X[0],",",Y[1]);break;case y.Z:p.push(" x ")}if(r>0){p.push(n);for(var G=0;G<r;G++){var $=D[G];e&&o($,$,e),p.push(_($[0]*T-P),",",_($[1]*T-P),G<r-1?",":"")}}}return p.join("")}(l,this.transform),r.style.zIndex=A(this.zlevel,this.z,this.z2),E(t,r),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},p.prototype.onRemove=function(t){O(t,this._vmlEl),this.removeRectText(t)},p.prototype.onAdd=function(t){E(t,this._vmlEl),this.appendRectText(t)};f.prototype.brushVML=function(t){var e,r,i,a=this.style,s=a.image;if("object"===(void 0===(i=s)?"undefined":n(i))&&i.tagName&&"IMG"===i.tagName.toUpperCase()){var h=s.src;if(h===this._imageSrc)e=this._imageWidth,r=this._imageHeight;else{var l=s.runtimeStyle,u=l.width,c=l.height;l.width="auto",l.height="auto",e=s.width,r=s.height,l.width=u,l.height=c,this._imageSrc=h,this._imageWidth=e,this._imageHeight=r}s=h}else s===this._imageSrc&&(e=this._imageWidth,r=this._imageHeight);if(s){var f=a.x||0,d=a.y||0,p=a.width,v=a.height,g=a.sWidth,y=a.sHeight,b=a.sx||0,w=a.sy||0,k=g&&y,T=this._vmlEl;T||(T=m.doc.createElement("div"),S(T),this._vmlEl=T);var P,M=T.style,O=!1,z=1,L=1;if(this.transform&&(P=this.transform,z=x(P[0]*P[0]+P[1]*P[1]),L=x(P[2]*P[2]+P[3]*P[3]),O=P[1]||P[2]),O){var R=[f,d],D=[f+p,d],I=[f,d+v],B=[f+p,d+v];o(R,R,P),o(D,D,P),o(I,I,P),o(B,B,P);var j=C(R[0],D[0],I[0],B[0]),N=C(R[1],D[1],I[1],B[1]),F=[];F.push("M11=",P[0]/z,",","M12=",P[2]/L,",","M21=",P[1]/z,",","M22=",P[3]/L,",","Dx=",_(f*z+P[4]),",","Dy=",_(d*L+P[5])),M.padding="0 "+_(j)+"px "+_(N)+"px 0",M.filter="progid:DXImageTransform.Microsoft.Matrix("+F.join("")+", SizingMethod=clip)"}else P&&(f=f*z+P[4],d=d*L+P[5]),M.filter="",M.left=_(f)+"px",M.top=_(d)+"px";var H=this._imageEl,W=this._cropEl;H||(H=m.doc.createElement("div"),this._imageEl=H);var q=H.style;if(k){if(e&&r)q.width=_(z*e*p/g)+"px",q.height=_(L*r*v/y)+"px";else{var U=new Image,V=this;U.onload=function(){U.onload=null,e=U.width,r=U.height,q.width=_(z*e*p/g)+"px",q.height=_(L*r*v/y)+"px",V._imageWidth=e,V._imageHeight=r,V._imageSrc=s},U.src=s}W||((W=m.doc.createElement("div")).style.overflow="hidden",this._cropEl=W);var X=W.style;X.width=_((p+b*p/g)*z),X.height=_((v+w*v/y)*L),X.filter="progid:DXImageTransform.Microsoft.Matrix(Dx="+-b*p/g*z+",Dy="+-w*v/y*L+")",W.parentNode||T.appendChild(W),H.parentNode!=W&&W.appendChild(H)}else q.width=_(z*p)+"px",q.height=_(L*v)+"px",T.appendChild(H),W&&W.parentNode&&(T.removeChild(W),this._cropEl=null);var Y="",G=a.opacity;G<1&&(Y+=".Alpha(opacity="+_(100*G)+") "),Y+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+s+", SizingMethod=scale)",q.filter=Y,T.style.zIndex=A(this.zlevel,this.z,this.z2),E(t,T),null!=a.text&&this.drawRectText(t,this.getBoundingRect())}},f.prototype.onRemove=function(t){O(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},f.prototype.onAdd=function(t){E(t,this._vmlEl),this.appendRectText(t)};var I,B={},j=0,N=document.createElement("div");h.$override("measureText",function(t,e){var r=m.doc;I||((I=r.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",m.doc.body.appendChild(I));try{I.style.font=e}catch(t){}return I.innerHTML="",I.appendChild(r.createTextNode(t)),{width:I.offsetWidth}});for(var F=new a,H=function(t,e,r,n){var i=this.style;this.__dirty&&l.normalizeTextStyle(i,!0);var a=i.text;if(null!=a&&(a+=""),a){if(i.rich){var s=h.parseRichText(a,i);a=[];for(var u=0;u<s.lines.length;u++){for(var c=s.lines[u].tokens,f=[],d=0;d<c.length;d++)f.push(c[d].text);a.push(f.join(""))}a=a.join("\n")}var p,v,g=i.textAlign,y=i.textVerticalAlign,x=function(t){var e=B[t];if(!e){j>100&&(j=0,B={});var r,n=N.style;try{n.font=t,r=n.fontFamily.split(",")[0]}catch(t){}e={style:n.fontStyle||"normal",variant:n.fontVariant||"normal",weight:n.fontWeight||"normal",size:0|parseFloat(n.fontSize||12),family:r||"Microsoft YaHei"},B[t]=e,j++}return e}(i.font),b=x.style+" "+x.variant+" "+x.weight+" "+x.size+'px "'+x.family+'"';r=r||h.getBoundingRect(a,b,g,y);var w=this.transform;if(w&&!n&&(F.copy(e),F.applyTransform(w),e=F),n)p=e.x,v=e.y;else{var k=i.textPosition,C=i.textDistance;if(k instanceof Array)p=e.x+z(k[0],e.width),v=e.y+z(k[1],e.height),g=g||"left";else{var T=h.adjustTextPositionOnRect(k,e,C);p=T.x,v=T.y,g=g||T.textAlign,y=y||T.textVerticalAlign}}p=h.adjustTextX(p,r.width,g),v=h.adjustTextY(v,r.height,y),v+=r.height/2;var P,M,O,L=m.createNode,D=this._textVmlEl;D?M=(P=(O=D.firstChild).nextSibling).nextSibling:(D=L("line"),P=L("path"),M=L("textpath"),O=L("skew"),M.style["v-text-align"]="left",S(D),P.textpathok=!0,M.on=!0,D.from="0 0",D.to="1000 0.05",E(D,O),E(D,P),E(D,M),this._textVmlEl=D);var I=[p,v],H=D.style;w&&n?(o(I,I,w),O.on=!0,O.matrix=w[0].toFixed(3)+","+w[2].toFixed(3)+","+w[1].toFixed(3)+","+w[3].toFixed(3)+",0,0",O.offset=(_(I[0])||0)+","+(_(I[1])||0),O.origin="0 0",H.left="0px",H.top="0px"):(O.on=!1,H.left=_(p)+"px",H.top=_(v)+"px"),M.string=String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;");try{M.style.font=b}catch(t){}R(D,"fill",{fill:i.textFill,opacity:i.opacity},this),R(D,"stroke",{stroke:i.textStroke,opacity:i.opacity,lineDash:i.lineDash},this),D.style.zIndex=A(this.zlevel,this.z,this.z2),E(t,D)}},W=function(t){O(t,this._textVmlEl),this._textVmlEl=null},q=function(t){E(t,this._textVmlEl)},U=[u,c,f,p,d],V=0;V<U.length;V++){var X=U[V].prototype;X.drawRectText=H,X.removeRectText=W,X.appendRectText=q}d.prototype.brushVML=function(t){var e=this.style;null!=e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},d.prototype.onRemove=function(t){this.removeRectText(t)},d.prototype.onAdd=function(t){this.appendRectText(t)}}},function(t,e,r){r(52),(0,r(27).registerPainter)("vml",r(51))},function(t,e,r){var n=r(19);function i(t,e){n.call(this,t,e,["filter"],"__filter_in_use__","_shadowDom")}function o(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY||t.textShadowBlur||t.textShadowOffsetX||t.textShadowOffsetY)}r(0).inherits(i,n),i.prototype.addWithoutUpdate=function(t,e){if(e&&o(e.style)){var r,n=e.style;if(n._shadowDom)r=n._shadowDom,this.getDefs(!0).contains(n._shadowDom)||this.addDom(r);else r=this.add(e);this.markUsed(e);var i=r.getAttribute("id");t.style.filter="url(#"+i+")"}},i.prototype.add=function(t){var e=this.createElement("filter"),r=t.style;return r._shadowDomId=r._shadowDomId||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-shadow-"+r._shadowDomId),this.updateDom(t,e),this.addDom(e),e},i.prototype.update=function(t,e){var r=e.style;if(o(r)){var i=this;n.prototype.update.call(this,e,function(t){i.updateDom(e,t._shadowDom)})}else this.remove(t,r)},i.prototype.remove=function(t,e){null!=e._shadowDomId&&(this.removeDom(e),t.style.filter="")},i.prototype.updateDom=function(t,e){var r=e.getElementsByTagName("feDropShadow");r=0===r.length?this.createElement("feDropShadow"):r[0];var n,i,o,a,s=t.style,h=t.scale&&t.scale[0]||1,l=t.scale&&t.scale[1]||1;if(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)n=s.shadowOffsetX||0,i=s.shadowOffsetY||0,o=s.shadowBlur,a=s.shadowColor;else{if(!s.textShadowBlur)return void this.removeDom(e,s);n=s.textShadowOffsetX||0,i=s.textShadowOffsetY||0,o=s.textShadowBlur,a=s.textShadowColor}r.setAttribute("dx",n/h),r.setAttribute("dy",i/l),r.setAttribute("flood-color",a);var u=o/2/h+" "+o/2/l;r.setAttribute("stdDeviation",u),e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width",Math.ceil(o/2*200)+"%"),e.setAttribute("height",Math.ceil(o/2*200)+"%"),e.appendChild(r),s._shadowDom=e},i.prototype.markUsed=function(t){var e=t.style;e&&e._shadowDom&&n.prototype.markUsed.call(this,e._shadowDom)};var a=i;t.exports=a},function(t,e,r){var n=r(19),i=r(0),o=r(14);function a(t,e){n.call(this,t,e,"clipPath","__clippath_in_use__")}i.inherits(a,n),a.prototype.update=function(t){var e=this.getSvgElement(t);e&&this.updateDom(e,t.__clipPaths,!1);var r=this.getTextSvgElement(t);r&&this.updateDom(r,t.__clipPaths,!0),this.markUsed(t)},a.prototype.updateDom=function(t,e,r){if(e&&e.length>0){var n,i,a=this.getDefs(!0),s=e[0],h=r?"_textDom":"_dom";s[h]?(i=s[h].getAttribute("id"),n=s[h],a.contains(n)||a.appendChild(n)):(i="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(n=this.createElement("clipPath")).setAttribute("id",i),a.appendChild(n),s[h]=n);var l=this.getSvgProxy(s);if(s.transform&&s.parent.invTransform&&!r){var u=Array.prototype.slice.call(s.transform);o.mul(s.transform,s.parent.invTransform,s.transform),l.brush(s),s.transform=u}else l.brush(s);var c=this.getSvgElement(s);n.innerHTML="",n.appendChild(c.cloneNode()),t.setAttribute("clip-path","url(#"+i+")"),e.length>1&&this.updateDom(n,e.slice(1),r)}else t&&t.setAttribute("clip-path","none")},a.prototype.markUsed=function(t){var e=this;t.__clipPaths&&t.__clipPaths.length>0&&i.each(t.__clipPaths,function(t){t._dom&&n.prototype.markUsed.call(e,t._dom),t._textDom&&n.prototype.markUsed.call(e,t._textDom)})};var s=a;t.exports=s},function(t,e,r){var n=r(19),i=r(0),o=r(13);function a(t,e){n.call(this,t,e,["linearGradient","radialGradient"],"__gradient_in_use__")}i.inherits(a,n),a.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var r=this;i.each(["fill","stroke"],function(n){if(e.style[n]&&("linear"===e.style[n].type||"radial"===e.style[n].type)){var i,o=e.style[n],a=r.getDefs(!0);o._dom?(i=o._dom,a.contains(o._dom)||r.addDom(i)):i=r.add(o),r.markUsed(e);var s=i.getAttribute("id");t.setAttribute(n,"url(#"+s+")")}})}},a.prototype.add=function(t){var e;if("linear"===t.type)e=this.createElement("linearGradient");else{if("radial"!==t.type)return o("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},a.prototype.update=function(t){var e=this;n.prototype.update.call(this,t,function(){var r=t.type,n=t._dom.tagName;"linear"===r&&"linearGradient"===n||"radial"===r&&"radialGradient"===n?e.updateDom(t,t._dom):(e.removeDom(t),e.add(t))})},a.prototype.updateDom=function(t,e){if("linear"===t.type)e.setAttribute("x1",t.x),e.setAttribute("y1",t.y),e.setAttribute("x2",t.x2),e.setAttribute("y2",t.y2);else{if("radial"!==t.type)return void o("Illegal gradient type.");e.setAttribute("cx",t.x),e.setAttribute("cy",t.y),e.setAttribute("r",t.r)}t.global?e.setAttribute("gradientUnits","userSpaceOnUse"):e.setAttribute("gradientUnits","objectBoundingBox"),e.innerHTML="";for(var r=t.colorStops,n=0,i=r.length;n<i;++n){var a=this.createElement("stop");a.setAttribute("offset",100*r[n].offset+"%"),a.setAttribute("stop-color",r[n].color),e.appendChild(a)}t._dom=e},a.prototype.markUsed=function(t){if(t.style){var e=t.style.fill;e&&e._dom&&n.prototype.markUsed.call(this,e._dom),(e=t.style.stroke)&&e._dom&&n.prototype.markUsed.call(this,e._dom)}};var s=a;t.exports=s},function(t,e){function r(){}function n(t,e,r,n){for(var i=0,o=e.length,a=0,s=0;i<o;i++){var h=e[i];if(h.removed){for(l=[],u=s;u<s+h.count;u++)l.push(u);h.indices=l,s+=h.count}else{for(var l=[],u=a;u<a+h.count;u++)l.push(u);h.indices=l,a+=h.count,h.added||(s+=h.count)}}return e}r.prototype={diff:function(t,e,r){r||(r=function(t,e){return t===e}),this.equals=r;var i=this;t=t.slice();var o=(e=e.slice()).length,a=t.length,s=1,h=o+a,l=[{newPos:-1,components:[]}],u=this.extractCommon(l[0],e,t,0);if(l[0].newPos+1>=o&&u+1>=a){for(var c=[],f=0;f<e.length;f++)c.push(f);return[{indices:c,count:e.length}]}function d(){for(var r=-1*s;r<=s;r+=2){var h,u=l[r-1],c=l[r+1],f=(c?c.newPos:0)-r;u&&(l[r-1]=void 0);var d=u&&u.newPos+1<o,p=c&&0<=f&&f<a;if(d||p){if(!d||p&&u.newPos<c.newPos?(h={newPos:(v=c).newPos,components:v.components.slice(0)},i.pushComponent(h.components,void 0,!0)):((h=u).newPos++,i.pushComponent(h.components,!0,void 0)),f=i.extractCommon(h,e,t,r),h.newPos+1>=o&&f+1>=a)return n(i,h.components,e,t);l[r]=h}else l[r]=void 0}var v;s++}for(;s<=h;){var p=d();if(p)return p}},pushComponent:function(t,e,r){var n=t[t.length-1];n&&n.added===e&&n.removed===r?t[t.length-1]={count:n.count+1,added:e,removed:r}:t.push({count:1,added:e,removed:r})},extractCommon:function(t,e,r,n){for(var i=e.length,o=r.length,a=t.newPos,s=a-n,h=0;a+1<i&&s+1<o&&this.equals(e[a+1],r[s+1]);)a++,s++,h++;return h&&t.components.push({count:h}),t.newPos=a,s},tokenize:function(t){return t.slice()},join:function(t){return t.slice()}};var i=new r;t.exports=function(t,e,r){return i.diff(t,e,r)}},function(t,e,r){var n=r(20).createElement,i=r(0),o=i.each,a=r(13),s=r(1),h=r(8),l=r(7),u=r(57),c=r(56),f=r(55),d=r(54),p=r(21),v=p.path,g=p.image,m=p.text;function y(t){return parseInt(t,10)}function _(t,e){return e&&t&&e.parentNode!==t}function x(t,e,r){if(_(t,e)&&r){var n=r.nextSibling;n?t.insertBefore(e,n):t.appendChild(e)}}function b(t,e){if(_(t,e)){var r=t.firstChild;r?t.insertBefore(e,r):t.appendChild(e)}}function w(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function k(t){return t.__textSvgEl}function C(t){return t.__svgEl}var T=function(t,e,r,o){this.root=t,this.storage=e,this._opts=r=i.extend({},r||{});var a=n("svg");a.setAttribute("xmlns","http://www.w3.org/2000/svg"),a.setAttribute("version","1.1"),a.setAttribute("baseProfile","full"),a.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new c(o,a),this.clipPathManager=new f(o,a),this.shadowManager=new d(o,a);var s=document.createElement("div");s.style.cssText="overflow:hidden;position:relative",this._svgRoot=a,this._viewport=s,t.appendChild(s),s.appendChild(a),this.resize(r.width,r.height),this._visibleList=[]};T.prototype={constructor:T,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},setBackgroundColor:function(t){this._viewport.style.background=t},_paintList:function(t){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var e,r,n=this._svgRoot,i=this._visibleList,o=t.length,a=[];for(e=0;e<o;e++){var c=t[e],f=(r=c)instanceof s?v:r instanceof h?g:r instanceof l?m:v,d=C(c)||k(c);c.invisible||(c.__dirty&&(f&&f.brush(c),this.clipPathManager.update(c),c.style&&(this.gradientManager.update(c.style.fill),this.gradientManager.update(c.style.stroke),this.shadowManager.update(d,c)),c.__dirty=!1),a.push(c))}var p,y=u(i,a);for(e=0;e<y.length;e++){if((P=y[e]).removed)for(var _=0;_<P.count;_++){d=C(c=i[P.indices[_]]);var T=k(c);w(n,d),w(n,T)}}for(e=0;e<y.length;e++){var P;if((P=y[e]).added)for(_=0;_<P.count;_++){d=C(c=a[P.indices[_]]),T=k(c);p?x(n,d,p):b(n,d),d?x(n,T,d):p?x(n,T,p):b(n,T),x(n,T,d),p=T||d||p,this.gradientManager.addWithoutUpdate(d,c),this.shadowManager.addWithoutUpdate(p,c),this.clipPathManager.markUsed(c)}else if(!P.removed)for(_=0;_<P.count;_++){p=d=k(c=a[P.indices[_]])||C(c)||p,this.gradientManager.markUsed(c),this.gradientManager.addWithoutUpdate(d,c),this.shadowManager.markUsed(c),this.shadowManager.addWithoutUpdate(d,c),this.clipPathManager.markUsed(c)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=a},_getDefs:function(t){var e,r=this._svgRoot;return 0===(e=this._svgRoot.getElementsByTagName("defs")).length?t?((e=r.insertBefore(n("defs"),r.firstChild)).contains||(e.contains=function(t){var r=e.children;if(!r)return!1;for(var n=r.length-1;n>=0;--n)if(r[n]===t)return!0;return!1}),e):null:e[0]},resize:function(t,e){var r=this._viewport;r.style.display="none";var n=this._opts;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=this._getSize(0),e=this._getSize(1),r.style.display="",this._width!==t||this._height!==e){this._width=t,this._height=e;var i=r.style;i.width=t+"px",i.height=e+"px";var o=this._svgRoot;o.setAttribute("width",t),o.setAttribute("height",e)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,r=["width","height"][t],n=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[r]&&"auto"!==e[r])return parseFloat(e[r]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[n]||y(s[r])||y(a.style[r]))-(y(s[i])||0)-(y(s[o])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+this._svgRoot.outerHTML}},o(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){var e;T.prototype[t]=(e=t,function(){a('In SVG mode painter not support method "'+e+'"')})});var P=T;t.exports=P},function(t,e,r){r(21),(0,r(27).registerPainter)("svg",r(58))},function(t,e,r){var n=r(0),i=r(22),o=function(t,e,r,n,o){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==r?.5:r,this.type="radial",this.global=o||!1,i.call(this,n)};o.prototype={constructor:o},n.inherits(o,i);var a=o;t.exports=a},function(t,e,r){var n=r(0),i=r(22),o=function(t,e,r,n,o,a){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==r?1:r,this.y2=null==n?0:n,this.type="linear",this.global=a||!1,i.call(this,o)};o.prototype={constructor:o},n.inherits(o,i);var a=o;t.exports=a},function(t,e,r){var n=r(1),i=Math.cos,o=Math.sin,a=n.extend({type:"trochoid",shape:{cx:0,cy:0,r:0,r0:0,d:0,location:"out"},style:{stroke:"#000",fill:null},buildPath:function(t,e){var r,n,a,s,h=e.r,l=e.r0,u=e.d,c=e.cx,f=e.cy,d="out"==e.location?1:-1;if(!(e.location&&h<=l)){var p,v=0,g=1;r=(h+d*l)*i(0)-d*u*i(0)+c,n=(h+d*l)*o(0)-u*o(0)+f,t.moveTo(r,n);do{v++}while(l*v%(h+d*l)!=0);do{p=Math.PI/180*g,a=(h+d*l)*i(p)-d*u*i((h/l+d)*p)+c,s=(h+d*l)*o(p)-u*o((h/l+d)*p)+f,t.lineTo(a,s),g++}while(g<=l*v/(h+d*l)*360)}}});t.exports=a},function(t,e,r){var n=r(1),i=Math.PI,o=Math.cos,a=Math.sin,s=n.extend({type:"star",shape:{cx:0,cy:0,n:3,r0:null,r:0},buildPath:function(t,e){var r=e.n;if(r&&!(r<2)){var n=e.cx,s=e.cy,h=e.r,l=e.r0;null==l&&(l=r>4?h*o(2*i/r)/o(i/r):h/3);var u=i/r,c=-i/2,f=n+h*o(c),d=s+h*a(c);c+=u,t.moveTo(f,d);for(var p,v=0,g=2*r-1;v<g;v++)p=v%2==0?l:h,t.lineTo(n+p*o(c),s+p*a(c)),c+=u;t.closePath()}}});t.exports=s},function(t,e,r){var n=r(6),i=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];t.exports=function(t){return n.browser.ie&&n.browser.version>=11?function(){var e,r=this.__clipPaths,n=this.style;if(r)for(var o=0;o<r.length;o++){var a=r[o],s=a&&a.shape,h=a&&a.type;if(s&&("sector"===h&&s.startAngle===s.endAngle||"rect"===h&&(!s.width||!s.height))){for(var l=0;l<i.length;l++)i[l][2]=n[i[l][0]],n[i[l][0]]=i[l][1];e=!0;break}}if(t.apply(this,arguments),e)for(l=0;l<i.length;l++)n[i[l][0]]=i[l][2]}:t}},function(t,e,r){var n=r(1),i=r(64),o=n.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:i(n.prototype.brush),buildPath:function(t,e){var r=e.cx,n=e.cy,i=Math.max(e.r0||0,0),o=Math.max(e.r,0),a=e.startAngle,s=e.endAngle,h=e.clockwise,l=Math.cos(a),u=Math.sin(a);t.moveTo(l*i+r,u*i+n),t.lineTo(l*o+r,u*o+n),t.arc(r,n,o,a,s,!h),t.lineTo(Math.cos(s)*i+r,Math.sin(s)*i+n),0!==i&&t.arc(r,n,i,s,a,h),t.closePath()}});t.exports=o},function(t,e,r){var n=r(1),i=Math.sin,o=Math.cos,a=Math.PI/180,s=n.extend({type:"rose",shape:{cx:0,cy:0,r:[],k:0,n:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var r,n,s,h=e.r,l=e.k,u=e.n,c=e.cx,f=e.cy;t.moveTo(c,f);for(var d=0,p=h.length;d<p;d++){s=h[d];for(var v=0;v<=360*u;v++)r=s*i(l/u*v%360*a)*o(v*a)+c,n=s*i(l/u*v%360*a)*i(v*a)+f,t.lineTo(r,n)}}});t.exports=s},function(t,e,r){var n=r(1).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var r=e.cx,n=e.cy,i=2*Math.PI;t.moveTo(r+e.r,n),t.arc(r,n,e.r,0,i,!1),t.moveTo(r+e.r0,n),t.arc(r,n,e.r0,0,i,!0)}});t.exports=n},function(t,e,r){var n=r(1),i=r(33),o=n.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){i.buildPath(t,e,!1)}});t.exports=o},function(t,e,r){var n=r(2),i=n.min,o=n.max,a=n.scale,s=n.distance,h=n.add,l=n.clone,u=n.sub;t.exports=function(t,e,r,n){var c,f,d,p,v=[],g=[],m=[],y=[];if(n){d=[1/0,1/0],p=[-1/0,-1/0];for(var _=0,x=t.length;_<x;_++)i(d,d,t[_]),o(p,p,t[_]);i(d,d,n[0]),o(p,p,n[1])}for(_=0,x=t.length;_<x;_++){var b=t[_];if(r)c=t[_?_-1:x-1],f=t[(_+1)%x];else{if(0===_||_===x-1){v.push(l(t[_]));continue}c=t[_-1],f=t[_+1]}u(g,f,c),a(g,g,e);var w=s(b,c),k=s(b,f),C=w+k;0!==C&&(w/=C,k/=C),a(m,g,-w),a(y,g,k);var T=h([],b,m),P=h([],b,y);n&&(o(T,T,d),i(T,T,p),o(P,P,d),i(P,P,p)),v.push(T),v.push(P)}return r&&v.push(v.shift()),v}},function(t,e,r){var n=r(2).distance;function i(t,e,r,n,i,o,a){var s=.5*(r-t),h=.5*(n-e);return(2*(e-r)+s+h)*a+(-3*(e-r)-2*s-h)*o+s*i+e}t.exports=function(t,e){for(var r=t.length,o=[],a=0,s=1;s<r;s++)a+=n(t[s-1],t[s]);var h=a/2;for(h=h<r?r:h,s=0;s<h;s++){var l,u,c,f=s/(h-1)*(e?r:r-1),d=Math.floor(f),p=f-d,v=t[d%r];e?(l=t[(d-1+r)%r],u=t[(d+1)%r],c=t[(d+2)%r]):(l=t[0===d?d:d-1],u=t[d>r-2?r-1:d+1],c=t[d>r-3?r-1:d+2]);var g=p*p,m=p*g;o.push([i(l[0],v[0],u[0],c[0],p,g,m),i(l[1],v[1],u[1],c[1],p,g,m)])}return o}},function(t,e,r){var n=r(1),i=Math.PI,o=Math.sin,a=Math.cos,s=n.extend({type:"isogon",shape:{x:0,y:0,r:0,n:0},buildPath:function(t,e){var r=e.n;if(r&&!(r<2)){var n=e.x,s=e.y,h=e.r,l=2*i/r,u=-i/2;t.moveTo(n+h*a(u),s+h*o(u));for(var c=0,f=r-1;c<f;c++)u+=l,t.lineTo(n+h*a(u),s+h*o(u));t.closePath()}}});t.exports=s},function(t,e,r){var n=r(1).extend({type:"heart",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,n=e.cy,i=e.width,o=e.height;t.moveTo(r,n),t.bezierCurveTo(r+i/2,n-2*o/3,r+2*i,n+o/3,r,n+o),t.bezierCurveTo(r-2*i,n+o/3,r-i/2,n-2*o/3,r,n)}});t.exports=n},function(t,e,r){var n=r(1).extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(t,e){var r=.5522848,n=e.cx,i=e.cy,o=e.rx,a=e.ry,s=o*r,h=a*r;t.moveTo(n-o,i),t.bezierCurveTo(n-o,i-h,n-s,i-a,n,i-a),t.bezierCurveTo(n+s,i-a,n+o,i-h,n+o,i),t.bezierCurveTo(n+o,i+h,n+s,i+a,n,i+a),t.bezierCurveTo(n-s,i+a,n-o,i+h,n-o,i),t.closePath()}});t.exports=n},function(t,e,r){var n=r(1).extend({type:"droplet",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,n=e.cy,i=e.width,o=e.height;t.moveTo(r,n+i),t.bezierCurveTo(r+i,n+i,r+3*i/2,n-i/3,r,n-o),t.bezierCurveTo(r-3*i/2,n-i/3,r-i,n+i,r,n+i),t.closePath()}});t.exports=n},function(t,e,r){var n=r(1).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var r=e.cx,n=e.cy,i=Math.max(e.r,0),o=e.startAngle,a=e.endAngle,s=e.clockwise,h=Math.cos(o),l=Math.sin(o);t.moveTo(h*i+r,l*i+n),t.arc(r,n,i,o,a,!s)}});t.exports=n},function(t,e,r){var n=r(0).inherits,i=r(12),o=r(4);function a(t){i.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}a.prototype.incremental=!0,a.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},a.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},a.prototype.addDisplayables=function(t,e){e=e||!1;for(var r=0;r<t.length;r++)this.addDisplayable(t[r],e)},a.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},a.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){(e=this._displayables[t]).parent=this,e.update(),e.parent=null}for(t=0;t<this._temporaryDisplayables.length;t++){var e;(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},a.prototype.brush=function(t,e){for(var r=this._cursor;r<this._displayables.length;r++){(n=this._displayables[r]).beforeBrush&&n.beforeBrush(t),n.brush(t,r===this._cursor?null:this._displayables[r-1]),n.afterBrush&&n.afterBrush(t)}this._cursor=r;for(r=0;r<this._temporaryDisplayables.length;r++){var n;(n=this._temporaryDisplayables[r]).beforeBrush&&n.beforeBrush(t),n.brush(t,0===r?null:this._temporaryDisplayables[r-1]),n.afterBrush&&n.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var s=[];a.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new o(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var r=this._displayables[e],n=r.getBoundingRect().clone();r.needLocalTransform()&&n.applyTransform(r.getLocalTransform(s)),t.union(n)}this._rect=t}return this._rect},a.prototype.contain=function(t,e){var r=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(r[0],r[1]))for(var n=0;n<this._displayables.length;n++){if(this._displayables[n].contain(t,e))return!0}return!1},n(a,i);var h=a;t.exports=h},function(t,e,r){var n=r(1),i=n.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,r=0;r<e.length;r++)t=t||e[r].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),r=0;r<t.length;r++)t[r].path||t[r].createPathProxy(),t[r].path.setScale(e[0],e[1])},buildPath:function(t,e){for(var r=e.paths||[],n=0;n<r.length;n++)r[n].buildPath(t,r[n].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),n.prototype.getBoundingRect.call(this)}});t.exports=i},function(t,e,r){var n=r(11),i=r(2).applyTransform,o=n.CMD,a=[[],[],[]],s=Math.sqrt,h=Math.atan2;t.exports=function(t,e){var r,n,l,u,c,f=t.data,d=o.M,p=o.C,v=o.L,g=o.R,m=o.A,y=o.Q;for(l=0,u=0;l<f.length;){switch(r=f[l++],u=l,n=0,r){case d:case v:n=1;break;case p:n=3;break;case y:n=2;break;case m:var _=e[4],x=e[5],b=s(e[0]*e[0]+e[1]*e[1]),w=s(e[2]*e[2]+e[3]*e[3]),k=h(-e[1]/w,e[0]/b);f[l]*=b,f[l++]+=_,f[l]*=w,f[l++]+=x,f[l++]*=b,f[l++]*=w,f[l++]+=k,f[l++]+=k,u=l+=2;break;case g:C[0]=f[l++],C[1]=f[l++],i(C,C,e),f[u++]=C[0],f[u++]=C[1],C[0]+=f[l++],C[1]+=f[l++],i(C,C,e),f[u++]=C[0],f[u++]=C[1]}for(c=0;c<n;c++){var C;(C=a[c])[0]=f[l++],C[1]=f[l++],i(C,C,e),f[u++]=C[0],f[u++]=C[1]}}}},function(t,e){t.exports=function(t,e,r,n,i,o){if(o>e&&o>n||o<e&&o<n)return 0;if(n===e)return 0;var a=n<e?1:-1,s=(o-e)/(n-e);1!==s&&0!==s||(a=n<e?.5:-.5);var h=s*(r-t)+t;return h===i?1/0:h>i?a:0}},function(t,e,r){var n=r(34).normalizeRadian,i=2*Math.PI;e.containStroke=function(t,e,r,o,a,s,h,l,u){if(0===h)return!1;var c=h;l-=t,u-=e;var f=Math.sqrt(l*l+u*u);if(f-c>r||f+c<r)return!1;if(Math.abs(o-a)%i<1e-4)return!0;if(s){var d=o;o=n(a),a=n(d)}else o=n(o),a=n(a);o>a&&(a+=i);var p=Math.atan2(u,l);return p<0&&(p+=i),p>=o&&p<=a||p+i>=o&&p+i<=a}},function(t,e,r){var n=r(10).quadraticProjectPoint;e.containStroke=function(t,e,r,i,o,a,s,h,l){if(0===s)return!1;var u=s;return!(l>e+u&&l>i+u&&l>a+u||l<e-u&&l<i-u&&l<a-u||h>t+u&&h>r+u&&h>o+u||h<t-u&&h<r-u&&h<o-u)&&n(t,e,r,i,o,a,h,l,null)<=u/2}},function(t,e,r){var n=r(10);e.containStroke=function(t,e,r,i,o,a,s,h,l,u,c){if(0===l)return!1;var f=l;return!(c>e+f&&c>i+f&&c>a+f&&c>h+f||c<e-f&&c<i-f&&c<a-f&&c<h-f||u>t+f&&u>r+f&&u>o+f&&u>s+f||u<t-f&&u<r-f&&u<o-f&&u<s-f)&&n.cubicProjectPoint(t,e,r,i,o,a,s,h,u,c,null)<=f/2}},function(t,e){e.containStroke=function(t,e,r,n,i,o,a){if(0===i)return!1;var s=i,h=0;if(a>e+s&&a>n+s||a<e-s&&a<n-s||o>t+s&&o>r+s||o<t-s&&o<r-s)return!1;if(t===r)return Math.abs(o-t)<=s/2;var l=(h=(e-n)/(t-r))*o-a+(t*n-r*e)/(t-r);return l*l/(h*h+1)<=s/2*s/2}},function(t,e,r){var n=r(11),i=r(83),o=r(82),a=r(81),s=r(80),h=r(34).normalizeRadian,l=r(10),u=r(79),c=n.CMD,f=2*Math.PI,d=1e-4;var p=[-1,-1,-1],v=[-1,-1];function g(t,e,r,n,i,o,a,s,h,u){if(u>e&&u>n&&u>o&&u>s||u<e&&u<n&&u<o&&u<s)return 0;var c,f=l.cubicRootAt(e,n,o,s,u,p);if(0===f)return 0;for(var d,g,m=0,y=-1,_=0;_<f;_++){var x=p[_],b=0===x||1===x?.5:1;l.cubicAt(t,r,i,a,x)<h||(y<0&&(y=l.cubicExtrema(e,n,o,s,v),v[1]<v[0]&&y>1&&(void 0,c=v[0],v[0]=v[1],v[1]=c),d=l.cubicAt(e,n,o,s,v[0]),y>1&&(g=l.cubicAt(e,n,o,s,v[1]))),2==y?x<v[0]?m+=d<e?b:-b:x<v[1]?m+=g<d?b:-b:m+=s<g?b:-b:x<v[0]?m+=d<e?b:-b:m+=s<d?b:-b)}return m}function m(t,e,r,n,i,o,a,s){if(s>e&&s>n&&s>o||s<e&&s<n&&s<o)return 0;var h=l.quadraticRootAt(e,n,o,s,p);if(0===h)return 0;var u=l.quadraticExtremum(e,n,o);if(u>=0&&u<=1){for(var c=0,f=l.quadraticAt(e,n,o,u),d=0;d<h;d++){var v=0===p[d]||1===p[d]?.5:1;l.quadraticAt(t,r,i,p[d])<a||(p[d]<u?c+=f<e?v:-v:c+=o<f?v:-v)}return c}v=0===p[0]||1===p[0]?.5:1;return l.quadraticAt(t,r,i,p[0])<a?0:o<e?v:-v}function y(t,e,r,n,i,o,a,s){if((s-=e)>r||s<-r)return 0;var l=Math.sqrt(r*r-s*s);p[0]=-l,p[1]=l;var u=Math.abs(n-i);if(u<1e-4)return 0;if(u%f<1e-4){n=0,i=f;var c=o?1:-1;return a>=p[0]+t&&a<=p[1]+t?c:0}if(o){l=n;n=h(i),i=h(l)}else n=h(n),i=h(i);n>i&&(i+=f);for(var d=0,v=0;v<2;v++){var g=p[v];if(g+t>a){var m=Math.atan2(s,g);c=o?1:-1;m<0&&(m=f+m),(m>=n&&m<=i||m+f>=n&&m+f<=i)&&(m>Math.PI/2&&m<1.5*Math.PI&&(c=-c),d+=c)}}return d}function _(t,e,r,n,h){for(var l,f,p=0,v=0,_=0,x=0,b=0,w=0;w<t.length;){var k=t[w++];switch(k===c.M&&w>1&&(r||(p+=u(v,_,x,b,n,h))),1==w&&(x=v=t[w],b=_=t[w+1]),k){case c.M:v=x=t[w++],_=b=t[w++];break;case c.L:if(r){if(i.containStroke(v,_,t[w],t[w+1],e,n,h))return!0}else p+=u(v,_,t[w],t[w+1],n,h)||0;v=t[w++],_=t[w++];break;case c.C:if(r){if(o.containStroke(v,_,t[w++],t[w++],t[w++],t[w++],t[w],t[w+1],e,n,h))return!0}else p+=g(v,_,t[w++],t[w++],t[w++],t[w++],t[w],t[w+1],n,h)||0;v=t[w++],_=t[w++];break;case c.Q:if(r){if(a.containStroke(v,_,t[w++],t[w++],t[w],t[w+1],e,n,h))return!0}else p+=m(v,_,t[w++],t[w++],t[w],t[w+1],n,h)||0;v=t[w++],_=t[w++];break;case c.A:var C=t[w++],T=t[w++],P=t[w++],S=t[w++],M=t[w++],E=t[w++],O=(t[w++],1-t[w++]),A=Math.cos(M)*P+C,z=Math.sin(M)*S+T;w>1?p+=u(v,_,A,z,n,h):(x=A,b=z);var L=(n-C)*S/P+C;if(r){if(s.containStroke(C,T,S,M,M+E,O,e,L,h))return!0}else p+=y(C,T,S,M,M+E,O,L,h);v=Math.cos(M+E)*P+C,_=Math.sin(M+E)*S+T;break;case c.R:x=v=t[w++],b=_=t[w++];A=x+t[w++],z=b+t[w++];if(r){if(i.containStroke(x,b,A,b,e,n,h)||i.containStroke(A,b,A,z,e,n,h)||i.containStroke(A,z,x,z,e,n,h)||i.containStroke(x,z,x,b,e,n,h))return!0}else p+=u(A,b,A,z,n,h),p+=u(x,z,x,b,n,h);break;case c.Z:if(r){if(i.containStroke(v,_,x,b,e,n,h))return!0}else p+=u(v,_,x,b,n,h);v=x,_=b}}return r||(l=_,f=b,Math.abs(l-f)<d)||(p+=u(v,_,x,b,n,h)||0),0!==p}e.contain=function(t,e,r){return _(t,0,!1,e,r)},e.containStroke=function(t,e,r,n){return _(t,e,!0,r,n)}},function(t,e,r){var n=r(2),i=r(10),o=Math.min,a=Math.max,s=Math.sin,h=Math.cos,l=2*Math.PI,u=n.create(),c=n.create(),f=n.create();var d=[],p=[];e.fromPoints=function(t,e,r){if(0!==t.length){var n,i=t[0],s=i[0],h=i[0],l=i[1],u=i[1];for(n=1;n<t.length;n++)i=t[n],s=o(s,i[0]),h=a(h,i[0]),l=o(l,i[1]),u=a(u,i[1]);e[0]=s,e[1]=l,r[0]=h,r[1]=u}},e.fromLine=function(t,e,r,n,i,s){i[0]=o(t,r),i[1]=o(e,n),s[0]=a(t,r),s[1]=a(e,n)},e.fromCubic=function(t,e,r,n,s,h,l,u,c,f){var v,g=i.cubicExtrema,m=i.cubicAt,y=g(t,r,s,l,d);for(c[0]=1/0,c[1]=1/0,f[0]=-1/0,f[1]=-1/0,v=0;v<y;v++){var _=m(t,r,s,l,d[v]);c[0]=o(_,c[0]),f[0]=a(_,f[0])}for(y=g(e,n,h,u,p),v=0;v<y;v++){var x=m(e,n,h,u,p[v]);c[1]=o(x,c[1]),f[1]=a(x,f[1])}c[0]=o(t,c[0]),f[0]=a(t,f[0]),c[0]=o(l,c[0]),f[0]=a(l,f[0]),c[1]=o(e,c[1]),f[1]=a(e,f[1]),c[1]=o(u,c[1]),f[1]=a(u,f[1])},e.fromQuadratic=function(t,e,r,n,s,h,l,u){var c=i.quadraticExtremum,f=i.quadraticAt,d=a(o(c(t,r,s),1),0),p=a(o(c(e,n,h),1),0),v=f(t,r,s,d),g=f(e,n,h,p);l[0]=o(t,s,v),l[1]=o(e,h,g),u[0]=a(t,s,v),u[1]=a(e,h,g)},e.fromArc=function(t,e,r,i,o,a,d,p,v){var g=n.min,m=n.max,y=Math.abs(o-a);if(y%l<1e-4&&y>1e-4)return p[0]=t-r,p[1]=e-i,v[0]=t+r,void(v[1]=e+i);if(u[0]=h(o)*r+t,u[1]=s(o)*i+e,c[0]=h(a)*r+t,c[1]=s(a)*i+e,g(p,u,c),m(v,u,c),(o%=l)<0&&(o+=l),(a%=l)<0&&(a+=l),o>a&&!d?a+=l:o<a&&d&&(o+=l),d){var _=a;a=o,o=_}for(var x=0;x<a;x+=Math.PI/2)x>o&&(f[0]=h(x)*r+t,f[1]=s(x)*i+e,g(p,f,p),m(v,f,v))}},function(t,e,r){var n=r(1),i=r(11),o=r(78),a=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],s=Math.sqrt,h=Math.sin,l=Math.cos,u=Math.PI,c=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},f=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(c(t)*c(e))},d=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(f(t,e))};function p(t,e,r,n,i,o,a,c,p,v,g){var m=p*(u/180),y=l(m)*(t-r)/2+h(m)*(e-n)/2,_=-1*h(m)*(t-r)/2+l(m)*(e-n)/2,x=y*y/(a*a)+_*_/(c*c);x>1&&(a*=s(x),c*=s(x));var b=(i===o?-1:1)*s((a*a*(c*c)-a*a*(_*_)-c*c*(y*y))/(a*a*(_*_)+c*c*(y*y)))||0,w=b*a*_/c,k=b*-c*y/a,C=(t+r)/2+l(m)*w-h(m)*k,T=(e+n)/2+h(m)*w+l(m)*k,P=d([1,0],[(y-w)/a,(_-k)/c]),S=[(y-w)/a,(_-k)/c],M=[(-1*y-w)/a,(-1*_-k)/c],E=d(S,M);f(S,M)<=-1&&(E=u),f(S,M)>=1&&(E=0),0===o&&E>0&&(E-=2*u),1===o&&E<0&&(E+=2*u),g.addData(v,C,T,a,c,P,E,m,o)}function v(t,e){var r=function(t){if(!t)return[];var e,r=t.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(e=0;e<a.length;e++)r=r.replace(new RegExp(a[e],"g"),"|"+a[e]);var n,o=r.split("|"),s=0,h=0,l=new i,u=i.CMD;for(e=1;e<o.length;e++){var c,f=o[e],d=f.charAt(0),v=0,g=f.slice(1).replace(/e,-/g,"e-").split(",");g.length>0&&""===g[0]&&g.shift();for(var m=0;m<g.length;m++)g[m]=parseFloat(g[m]);for(;v<g.length&&!isNaN(g[v])&&!isNaN(g[0]);){var y,_,x,b,w,k,C,T=s,P=h;switch(d){case"l":s+=g[v++],h+=g[v++],c=u.L,l.addData(c,s,h);break;case"L":s=g[v++],h=g[v++],c=u.L,l.addData(c,s,h);break;case"m":s+=g[v++],h+=g[v++],c=u.M,l.addData(c,s,h),d="l";break;case"M":s=g[v++],h=g[v++],c=u.M,l.addData(c,s,h),d="L";break;case"h":s+=g[v++],c=u.L,l.addData(c,s,h);break;case"H":s=g[v++],c=u.L,l.addData(c,s,h);break;case"v":h+=g[v++],c=u.L,l.addData(c,s,h);break;case"V":h=g[v++],c=u.L,l.addData(c,s,h);break;case"C":c=u.C,l.addData(c,g[v++],g[v++],g[v++],g[v++],g[v++],g[v++]),s=g[v-2],h=g[v-1];break;case"c":c=u.C,l.addData(c,g[v++]+s,g[v++]+h,g[v++]+s,g[v++]+h,g[v++]+s,g[v++]+h),s+=g[v-2],h+=g[v-1];break;case"S":y=s,_=h;var S=l.len(),M=l.data;n===u.C&&(y+=s-M[S-4],_+=h-M[S-3]),c=u.C,T=g[v++],P=g[v++],s=g[v++],h=g[v++],l.addData(c,y,_,T,P,s,h);break;case"s":y=s,_=h,S=l.len(),M=l.data,n===u.C&&(y+=s-M[S-4],_+=h-M[S-3]),c=u.C,T=s+g[v++],P=h+g[v++],s+=g[v++],h+=g[v++],l.addData(c,y,_,T,P,s,h);break;case"Q":T=g[v++],P=g[v++],s=g[v++],h=g[v++],c=u.Q,l.addData(c,T,P,s,h);break;case"q":T=g[v++]+s,P=g[v++]+h,s+=g[v++],h+=g[v++],c=u.Q,l.addData(c,T,P,s,h);break;case"T":y=s,_=h,S=l.len(),M=l.data,n===u.Q&&(y+=s-M[S-4],_+=h-M[S-3]),s=g[v++],h=g[v++],c=u.Q,l.addData(c,y,_,s,h);break;case"t":y=s,_=h,S=l.len(),M=l.data,n===u.Q&&(y+=s-M[S-4],_+=h-M[S-3]),s+=g[v++],h+=g[v++],c=u.Q,l.addData(c,y,_,s,h);break;case"A":x=g[v++],b=g[v++],w=g[v++],k=g[v++],C=g[v++],p(T=s,P=h,s=g[v++],h=g[v++],k,C,x,b,w,c=u.A,l);break;case"a":x=g[v++],b=g[v++],w=g[v++],k=g[v++],C=g[v++],p(T=s,P=h,s+=g[v++],h+=g[v++],k,C,x,b,w,c=u.A,l)}}"z"!==d&&"Z"!==d||(c=u.Z,l.addData(c)),n=c}return l.toStatic(),l}(t);return(e=e||{}).buildPath=function(t){if(t.setData){t.setData(r.data),(e=t.getContext())&&t.rebuildPath(e)}else{var e=t;r.rebuildPath(e)}},e.applyTransform=function(t){o(r,t),this.dirty(!0)},e}e.createFromString=function(t,e){return new n(v(t,e))},e.extendFromString=function(t,e){return n.extend(v(t,e))},e.mergePath=function(t,e){for(var r=[],i=t.length,o=0;o<i;o++){var a=t[o];a.path||a.createPathProxy(),a.__dirtyPath&&a.buildPath(a.path,a.shape,!0),r.push(a.path)}var s=new n(e);return s.createPathProxy(),s.buildPath=function(t){t.appendPath(r);var e=t.getContext();e&&t.rebuildPath(e)},s}},function(t,e,r){var n=r(0);e.util=n;var i=r(14);e.matrix=i;var o=r(2);e.vector=o;var a=r(26);e.color=a;var s=r(86);e.path=s;var h=r(5);e.Group=h;var l=r(1);e.Path=l;var u=r(8);e.Image=u;var c=r(77);e.CompoundPath=c;var f=r(7);e.Text=f;var d=r(76);e.IncrementalDisplayable=d;var p=r(75);e.Arc=p;var v=r(31);e.BezierCurve=v;var g=r(30);e.Circle=g;var m=r(74);e.Droplet=m;var y=r(73);e.Ellipse=y;var _=r(72);e.Heart=_;var x=r(71);e.Isogon=x;var b=r(29);e.Line=b;var w=r(15);e.Polygon=w;var k=r(68);e.Polyline=k;var C=r(28);e.Rect=C;var T=r(67);e.Ring=T;var P=r(66);e.Rose=P;var S=r(65);e.Sector=S;var M=r(63);e.Star=M;var E=r(62);e.Trochoid=E;var O=r(61);e.LinearGradient=O;var A=r(60);e.RadialGradient=A;var z=r(25);e.Pattern=z;var L=r(4);e.BoundingRect=L},function(t,e,r){var n=r(23),i=function(){this._track=[]};function o(t){var e=t[1][0]-t[0][0],r=t[1][1]-t[0][1];return Math.sqrt(e*e+r*r)}i.prototype={constructor:i,recognize:function(t,e,r){return this._doTrack(t,e,r),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,r){var i=t.touches;if(i){for(var o={points:[],touches:[],target:e,event:t},a=0,s=i.length;a<s;a++){var h=i[a],l=n.clientToLocal(r,h,{});o.points.push([l.zrX,l.zrY]),o.touches.push(h)}this._track.push(o)}},_recognize:function(t){for(var e in a)if(a.hasOwnProperty(e)){var r=a[e](this._track,t);if(r)return r}}};var a={pinch:function(t,e){var r=t.length;if(r){var n,i=(t[r-1]||{}).points,a=(t[r-2]||{}).points||i;if(a&&a.length>1&&i&&i.length>1){var s=o(i)/o(a);!isFinite(s)&&(s=1),e.pinchScale=s;var h=[((n=i)[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2];return e.pinchX=h[0],e.pinchY=h[1],{type:"pinch",target:t[0].target,event:e}}}}},s=i;t.exports=s},function(t,e,r){var n=r(23),i=n.addEventListener,o=n.removeEventListener,a=n.normalizeEvent,s=r(0),h=r(9),l=r(6),u=r(88),c=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],f=["touchstart","touchend","touchmove"],d={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},p=s.map(c,function(t){var e=t.replace("mouse","pointer");return d[e]?e:t});function v(t){return"mousewheel"===t&&l.browser.firefox?"DOMMouseScroll":t}function g(t,e,r){var n=t._gestureMgr;"start"===r&&n.clear();var i=n.recognize(e,t.handler.findHover(e.zrX,e.zrY,null).target,t.dom);if("end"===r&&n.clear(),i){var o=i.type;e.gestureEvent=o,t.handler.dispatchToElement({target:i.target},o,i.event)}}function m(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}var y={mousemove:function(t){t=a(this.dom,t),this.trigger("mousemove",t)},mouseout:function(t){var e=(t=a(this.dom,t)).toElement||t.relatedTarget;if(e!=this.dom)for(;e&&9!=e.nodeType;){if(e===this.dom)return;e=e.parentNode}this.trigger("mouseout",t)},touchstart:function(t){(t=a(this.dom,t)).zrByTouch=!0,this._lastTouchMoment=new Date,g(this,t,"start"),y.mousemove.call(this,t),y.mousedown.call(this,t),m(this)},touchmove:function(t){(t=a(this.dom,t)).zrByTouch=!0,g(this,t,"change"),y.mousemove.call(this,t),m(this)},touchend:function(t){(t=a(this.dom,t)).zrByTouch=!0,g(this,t,"end"),y.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&y.click.call(this,t),m(this)},pointerdown:function(t){y.mousedown.call(this,t)},pointermove:function(t){_(t)||y.mousemove.call(this,t)},pointerup:function(t){y.mouseup.call(this,t)},pointerout:function(t){_(t)||y.mouseout.call(this,t)}};function _(t){var e=t.pointerType;return"pen"===e||"touch"===e}function x(t){var e;function r(e,r){s.each(e,function(e){i(t,v(e),r._handlers[e])},r)}h.call(this),this.dom=t,this._touching=!1,this._touchTimer,this._gestureMgr=new u,this._handlers={},e=this,s.each(f,function(t){e._handlers[t]=s.bind(y[t],e)}),s.each(p,function(t){e._handlers[t]=s.bind(y[t],e)}),s.each(c,function(t){e._handlers[t]=function(t,e){return function(){if(!e._touching)return t.apply(e,arguments)}}(y[t],e)}),l.pointerEventsSupported?r(p,this):(l.touchEventsSupported&&r(f,this),r(c,this))}s.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){y[t]=function(e){e=a(this.dom,e),this.trigger(t,e)}});var b=x.prototype;b.dispose=function(){for(var t=c.concat(f),e=0;e<t.length;e++){var r=t[e];o(this.dom,v(r),this._handlers[r])}},b.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},s.mixin(x,h);var w=x;t.exports=w},function(t,e,r){var n=r(0),i=r(23).Dispatcher,o=r(37),a=r(42),s=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,i.call(this)};s.prototype={constructor:s,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),r=0;r<e.length;r++)this.addClip(e[r])},removeClip:function(t){var e=n.indexOf(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),r=0;r<e.length;r++)this.removeClip(e[r]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,r=this._clips,n=r.length,i=[],o=[],a=0;a<n;a++){var s=r[a],h=s.step(t,e);h&&(i.push(h),o.push(s))}for(a=0;a<n;)r[a]._needsRemove?(r[a]=r[n-1],r.pop(),n--):a++;n=i.length;for(a=0;a<n;a++)o[a].fire(i[a]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){var t=this;this._running=!0,o(function e(){t._running&&(o(e),!t._paused&&t._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){var r=new a(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(r),r}},n.mixin(s,i);var h=s;t.exports=h},function(t,e,r){var n=r(0),i=r(18).devicePixelRatio,o=r(39),a=r(25);function s(){return!1}function h(t,e,r){var i=n.createCanvas(),o=e.getWidth(),a=e.getHeight(),s=i.style;return s&&(s.position="absolute",s.left=0,s.top=0,s.width=o+"px",s.height=a+"px",i.setAttribute("data-zr-dom-id",t)),i.width=o*r,i.height=a*r,i}var l=function(t,e,r){var o;r=r||i,"string"==typeof t?o=h(t,e,r):n.isObject(t)&&(t=(o=t).id),this.id=t,this.dom=o;var a=o.style;a&&(o.onselectstart=s,a["-webkit-user-select"]="none",a["user-select"]="none",a["-webkit-touch-callout"]="none",a["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",a.padding=0,a.margin=0,a["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=r};l.prototype={constructor:l,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=h("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!=t&&this.ctxBack.scale(t,t)},resize:function(t,e){var r=this.dpr,n=this.dom,i=n.style,o=this.domBack;i&&(i.width=t+"px",i.height=e+"px"),n.width=t*r,n.height=e*r,o&&(o.width=t*r,o.height=e*r,1!=r&&this.ctxBack.scale(r,r))},clear:function(t,e){var r,n=this.dom,i=this.ctx,s=n.width,h=n.height,l=(e=e||this.clearColor,this.motionBlur&&!t),u=this.lastFrameAlpha,c=this.dpr;(l&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,s/c,h/c)),i.clearRect(0,0,s,h),e&&"transparent"!==e)&&(e.colorStops?(r=e.__canvasGradient||o.getGradient(i,e,{x:0,y:0,width:s,height:h}),e.__canvasGradient=r):e.image&&(r=a.prototype.getCanvasPattern.call(e,i)),i.save(),i.fillStyle=r||e,i.fillRect(0,0,s,h),i.restore());if(l){var f=this.domBack;i.save(),i.globalAlpha=u,i.drawImage(f,0,0,s,h),i.restore()}}};var u=l;t.exports=u},function(t,e,r){var n=r(18).devicePixelRatio,i=r(0),o=r(13),a=r(4),s=r(40),h=r(91),l=r(37),u=r(8),c=r(6);function f(t){return parseInt(t,10)}var d=new a(0,0,0,0),p=new a(0,0,0,0);var v=function(t,e,r){this.type="canvas";var o=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=r=i.extend({},r||{}),this.dpr=r.devicePixelRatio||n,this._singleCanvas=o,this.root=t;var a=t.style;a&&(a["-webkit-tap-highlight-color"]="transparent",a["-webkit-user-select"]=a["user-select"]=a["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var s=this._zlevelList=[],l=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,o){var u=t.width,c=t.height;null!=r.width&&(u=r.width),null!=r.height&&(c=r.height),this.dpr=r.devicePixelRatio||1,t.width=u*this.dpr,t.height=c*this.dpr,this._width=u,this._height=c;var f=new h(t,this,this.dpr);f.__builtin__=!0,f.initContext(),l[314159]=f,f.zlevel=314159,s.push(314159),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var d=this._domRoot=function(t,e){var r=document.createElement("div");return r.style.cssText=["position:relative","overflow:hidden","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}(this._width,this._height);t.appendChild(d)}this._hoverlayer=null,this._hoverElements=[]};v.prototype={constructor:v,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),r=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var n=0;n<r.length;n++){var i=r[n],o=this._layers[i];if(!o.__builtin__&&o.refresh){var a=0===n?this._backgroundColor:null;o.refresh(a)}}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var r=new t.constructor({style:t.style,shape:t.shape});r.__from=t,t.__hoverMir=r,r.setStyle(e),this._hoverElements.push(r)}},removeHover:function(t){var e=t.__hoverMir,r=this._hoverElements,n=i.indexOf(r,e);n>=0&&r.splice(n,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,r=0;r<e.length;r++){var n=e[r].__from;n&&(n.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,r=this._hoverlayer;if(r&&r.clear(),e){s(t,this.storage.displayableSortFunc),r||(r=this._hoverlayer=this.getLayer(1e5));var n={};r.ctx.save();for(var i=0;i<e;){var o=t[i],a=o.__from;a&&a.__zr?(i++,a.invisible||(o.transform=a.transform,o.invTransform=a.invTransform,o.__clipPaths=a.__clipPaths,this._doPaintEl(o,r,!0,n))):(t.splice(i,1),a.__hoverMir=null,e--)}r.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,r){if(this._redrawId===r){e=e||!1,this._updateLayerStatus(t);var n=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!n){var i=this;l(function(){i._paintList(t,e,r)})}}},_compositeManually:function(){var t=this.getLayer(314159).ctx,e=this._domRoot.width,r=this._domRoot.height;t.clearRect(0,0,e,r),this.eachBuiltinLayer(function(n){n.virtual&&t.drawImage(n.dom,0,0,e,r)})},_doPaintList:function(t,e){for(var r=[],n=0;n<this._zlevelList.length;n++){var o=this._zlevelList[n];(h=this._layers[o]).__builtin__&&h!==this._hoverlayer&&(h.__dirty||e)&&r.push(h)}for(var a=!0,s=0;s<r.length;s++){var h,l=(h=r[s]).ctx,u={};l.save();var f=e?h.__startIndex:h.__drawIndex,d=!e&&h.incremental&&Date.now,p=d&&Date.now(),v=h.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(h.__startIndex===h.__endIndex)h.clear(!1,v);else if(f===h.__startIndex){var g=t[f];g.incremental&&g.notClear&&!e||h.clear(!1,v)}-1===f&&(console.error("For some unknown reason. drawIndex is -1"),f=h.__startIndex);for(var m=f;m<h.__endIndex;m++){var y=t[m];if(this._doPaintEl(y,h,e,u),y.__dirty=!1,d)if(Date.now()-p>15)break}h.__drawIndex=m,h.__drawIndex<h.__endIndex&&(a=!1),u.prevElClipPaths&&l.restore(),l.restore()}return c.wxa&&i.each(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),a},_doPaintEl:function(t,e,r,n){var i=e.ctx,o=t.transform;if((e.__dirty||r)&&!t.invisible&&0!==t.style.opacity&&(!o||o[0]||o[3])&&(!t.culling||!function(t,e,r){return d.copy(t.getBoundingRect()),t.transform&&d.applyTransform(t.transform),p.width=e,p.height=r,!d.intersect(p)}(t,this._width,this._height))){var a=t.__clipPaths;n.prevElClipPaths&&!function(t,e){if(t==e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!0}(a,n.prevElClipPaths)||(n.prevElClipPaths&&(e.ctx.restore(),n.prevElClipPaths=null,n.prevEl=null),a&&(i.save(),function(t,e){for(var r=0;r<t.length;r++){var n=t[r];n.setTransform(e),e.beginPath(),n.buildPath(e,n.shape),e.clip(),n.restoreTransform(e)}}(a,i),n.prevElClipPaths=a)),t.beforeBrush&&t.beforeBrush(i),t.brush(i,n.prevEl||null),n.prevEl=t,t.afterBrush&&t.afterBrush(i)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=314159);var r=this._layers[t];return r||((r=new h("zr_"+t,this,this.dpr)).zlevel=t,r.__builtin__=!0,this._layerConfig[t]&&i.merge(r,this._layerConfig[t],!0),e&&(r.virtual=e),this.insertLayer(t,r),r.initContext()),r},insertLayer:function(t,e){var r=this._layers,n=this._zlevelList,i=n.length,a=null,s=-1,h=this._domRoot;if(r[t])o("ZLevel "+t+" has been used already");else if(function(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}(e)){if(i>0&&t>n[0]){for(s=0;s<i-1&&!(n[s]<t&&n[s+1]>t);s++);a=r[n[s]]}if(n.splice(s+1,0,t),r[t]=e,!e.virtual)if(a){var l=a.dom;l.nextSibling?h.insertBefore(e.dom,l.nextSibling):h.appendChild(e.dom)}else h.firstChild?h.insertBefore(e.dom,h.firstChild):h.appendChild(e.dom)}else o("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){var r,n,i=this._zlevelList;for(n=0;n<i.length;n++)r=i[n],t.call(e,this._layers[r],r)},eachBuiltinLayer:function(t,e){var r,n,i,o=this._zlevelList;for(i=0;i<o.length;i++)n=o[i],(r=this._layers[n]).__builtin__&&t.call(e,r,n)},eachOtherLayer:function(t,e){var r,n,i,o=this._zlevelList;for(i=0;i<o.length;i++)n=o[i],(r=this._layers[n]).__builtin__||t.call(e,r,n)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){n&&(n.__endIndex!==t&&(n.__dirty=!0),n.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(var r=1;r<t.length;r++){if((a=t[r]).zlevel!==t[r-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}var n=null,i=0;for(r=0;r<t.length;r++){var a,s,h=(a=t[r]).zlevel;a.incremental?((s=this.getLayer(h+.001,this._needsManuallyCompositing)).incremental=!0,i=1):s=this.getLayer(h+(i>0?.01:0),this._needsManuallyCompositing),s.__builtin__||o("ZLevel "+h+" has been used by unkown layer "+s.id),s!==n&&(s.__used=!0,s.__startIndex!==r&&(s.__dirty=!0),s.__startIndex=r,s.incremental?s.__drawIndex=-1:s.__drawIndex=r,e(r),n=s),a.__dirty&&(s.__dirty=!0,s.incremental&&s.__drawIndex<0&&(s.__drawIndex=r))}e(r),this.eachBuiltinLayer(function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var r=this._layerConfig;r[t]?i.merge(r[t],e,!0):r[t]=e;for(var n=0;n<this._zlevelList.length;n++){var o=this._zlevelList[n];if(o===t||o===t+.01){var a=this._layers[o];i.merge(a,r[t],!0)}}}},delLayer:function(t){var e=this._layers,r=this._zlevelList,n=e[t];n&&(n.dom.parentNode.removeChild(n.dom),delete e[t],r.splice(i.indexOf(r,t),1))},resize:function(t,e){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var n=this._opts;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=this._getSize(0),e=this._getSize(1),r.style.display="",this._width!=t||e!=this._height){for(var o in r.style.width=t+"px",r.style.height=e+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);i.each(this._progressiveLayers,function(r){r.resize(t,e)}),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(314159).resize(t,e)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new h("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var r=e.dom.width,n=e.dom.height,i=e.ctx;this.eachLayer(function(t){t.__builtin__?i.drawImage(t.dom,0,0,r,n):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var o={},a=this.storage.getDisplayList(!0),s=0;s<a.length;s++){var l=a[s];this._doPaintEl(l,e,!0,o)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,r=["width","height"][t],n=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[r]&&"auto"!==e[r])return parseFloat(e[r]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[n]||f(s[r])||f(a.style[r]))-(f(s[i])||0)-(f(s[o])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var r=document.createElement("canvas"),n=r.getContext("2d"),i=t.getBoundingRect(),o=t.style,a=o.shadowBlur*e,s=o.shadowOffsetX*e,h=o.shadowOffsetY*e,l=o.hasStroke()?o.lineWidth:0,c=Math.max(l/2,-s+a),f=Math.max(l/2,s+a),d=Math.max(l/2,-h+a),p=Math.max(l/2,h+a),v=i.width+c+f,g=i.height+d+p;r.width=v*e,r.height=g*e,n.scale(e,e),n.clearRect(0,0,v,g),n.dpr=e;var m={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[c-i.x,d-i.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(n);var y=new u({style:{x:0,y:0,image:r}});return null!=m.position&&(y.position=t.position=m.position),null!=m.rotation&&(y.rotation=t.rotation=m.rotation),null!=m.scale&&(y.scale=t.scale=m.scale),y}};var g=v;t.exports=g},function(t,e){var r={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,r=.1;return 0===t?0:1===t?1:(!r||r<1?(r=1,e=.1):e=.4*Math.asin(1/r)/(2*Math.PI),-r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,r=.1;return 0===t?0:1===t?1:(!r||r<1?(r=1,e=.1):e=.4*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,r=.1;return 0===t?0:1===t?1:(!r||r<1?(r=1,e=.1):e=.4*Math.asin(1/r)/(2*Math.PI),(t*=2)<1?r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-r.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*r.bounceIn(2*t):.5*r.bounceOut(2*t-1)+.5}},n=r;t.exports=n},function(t,e,r){var n=r(93);function i(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}i.prototype={constructor:i,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var r=(t-this._startTime-this._pausedTime)/this._life;if(!(r<0)){r=Math.min(r,1);var i=this.easing,o="string"==typeof i?n[i]:i,a="function"==typeof o?o(r):r;return this.fire("frame",a),1==r?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var o=i;t.exports=o},function(t,e,r){var n=r(42),i=r(13),o=r(0),a=o.isString,s=o.isFunction,h=o.isObject,l=o.isArrayLike,u=o.indexOf,c=function(){this.animators=[]};c.prototype={constructor:c,animate:function(t,e){var r,o=!1,a=this,s=this.__zr;if(t){var h=t.split("."),l=a;o="shape"===h[0];for(var c=0,f=h.length;c<f;c++)l&&(l=l[h[c]]);l&&(r=l)}else r=a;if(r){var d=a.animators,p=new n(r,e);return p.during(function(t){a.dirty(o)}).done(function(){d.splice(u(d,p),1)}),d.push(p),s&&s.animation.addAnimator(p),p}i('Property "'+t+'" is not existed in element '+a.id)},stopAnimation:function(t){for(var e=this.animators,r=e.length,n=0;n<r;n++)e[n].stop(t);return e.length=0,this},animateTo:function(t,e,r,n,i,o){a(r)?(i=n,n=r,r=0):s(n)?(i=n,n="linear",r=0):s(r)?(i=r,r=0):s(e)?(i=e,e=500):e||(e=500),this.stopAnimation(),this._animateToShallow("",this,t,e,r);var h=this.animators.slice(),l=h.length;function u(){--l||i&&i()}l||i&&i();for(var c=0;c<h.length;c++)h[c].done(u).start(n,o)},_animateToShallow:function(t,e,r,n,i){var o={},a=0;for(var s in r)if(r.hasOwnProperty(s))if(null!=e[s])h(r[s])&&!l(r[s])?this._animateToShallow(t?t+"."+s:s,e[s],r[s],n,i):(o[s]=r[s],a++);else if(null!=r[s])if(t){var u={};u[t]={},u[t][s]=r[s],this.attr(u)}else this.attr(s,r[s]);return a>0&&this.animate(t,!1).when(null==n?500:n,o).delay(i||0),this}};var f=c;t.exports=f},function(t,e,r){var n=r(14),i=r(2),o=n.identity,a=5e-5;function s(t){return t>a||t<-a}var h=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},l=h.prototype;l.transform=null,l.needLocalTransform=function(){return s(this.rotation)||s(this.position[0])||s(this.position[1])||s(this.scale[0]-1)||s(this.scale[1]-1)},l.updateTransform=function(){var t=this.parent,e=t&&t.transform,r=this.needLocalTransform(),i=this.transform;r||e?(i=i||n.create(),r?this.getLocalTransform(i):o(i),e&&(r?n.mul(i,t.transform,i):n.copy(i,t.transform)),this.transform=i,this.invTransform=this.invTransform||n.create(),n.invert(this.invTransform,i)):i&&o(i)},l.getLocalTransform=function(t){return h.getLocalTransform(this,t)},l.setTransform=function(t){var e=this.transform,r=t.dpr||1;e?t.setTransform(r*e[0],r*e[1],r*e[2],r*e[3],r*e[4],r*e[5]):t.setTransform(r,0,0,r,0,0)},l.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var u=[];l.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(n.mul(u,t.invTransform,e),e=u);var r=e[0]*e[0]+e[1]*e[1],i=e[2]*e[2]+e[3]*e[3],o=this.position,a=this.scale;s(r-1)&&(r=Math.sqrt(r)),s(i-1)&&(i=Math.sqrt(i)),e[0]<0&&(r=-r),e[3]<0&&(i=-i),o[0]=e[4],o[1]=e[5],a[0]=r,a[1]=i,this.rotation=Math.atan2(-e[1]/i,e[0]/r)}},l.getGlobalScale=function(){var t=this.transform;if(!t)return[1,1];var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]),r=Math.sqrt(t[2]*t[2]+t[3]*t[3]);return t[0]<0&&(e=-e),t[3]<0&&(r=-r),[e,r]},l.transformCoordToLocal=function(t,e){var r=[t,e],n=this.invTransform;return n&&i.applyTransform(r,r,n),r},l.transformCoordToGlobal=function(t,e){var r=[t,e],n=this.transform;return n&&i.applyTransform(r,r,n),r},h.getLocalTransform=function(t,e){o(e=e||[]);var r=t.origin,i=t.scale||[1,1],a=t.rotation||0,s=t.position||[0,0];return r&&(e[4]-=r[0],e[5]-=r[1]),n.scale(e,e,i),a&&n.rotate(e,e,a),r&&(e[4]+=r[0],e[5]+=r[1]),e[4]+=s[0],e[5]+=s[1],e};var c=h;t.exports=c},function(t,e,r){var n=r(0),i=r(6),o=r(5),a=r(40);function s(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var h=function(){this._roots=[],this._displayList=[],this._displayListLen=0};h.prototype={constructor:h,traverse:function(t,e){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,r=this._displayList,n=0,o=e.length;n<o;n++)this._updateAndAddDisplayable(e[n],null,t);r.length=this._displayListLen,i.canvasSupported&&a(r,s)},_updateAndAddDisplayable:function(t,e,r){if(!t.ignore||r){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var n=t.clipPath;if(n){e=e?e.slice():[];for(var i=n,o=t;i;)i.parent=o,i.updateTransform(),e.push(i),o=i,i=i.clipPath}if(t.isGroup){for(var a=t._children,s=0;s<a.length;s++){var h=a[s];t.__dirty&&(h.__dirty=!0),this._updateAndAddDisplayable(h,e,r)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof o&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var r=this._roots[e];r instanceof o&&r.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array){e=0;for(var i=t.length;e<i;e++)this.delRoot(t[e])}else{var a=n.indexOf(this._roots,t);a>=0&&(this.delFromStorage(t),this._roots.splice(a,1),t instanceof o&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:s};var l=h;t.exports=l},function(t,e){function r(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function n(t,e){return{target:t,topTarget:e&&e.topTarget}}r.prototype={constructor:r,_dragStart:function(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(n(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var r=t.offsetX,i=t.offsetY,o=r-this._x,a=i-this._y;this._x=r,this._y=i,e.drift(o,a,t),this.dispatchToElement(n(e,t),"drag",t.event);var s=this.findHover(r,i,e).target,h=this._dropTarget;this._dropTarget=s,e!==s&&(h&&s!==h&&this.dispatchToElement(n(h,t),"dragleave",t.event),s&&s!==h&&this.dispatchToElement(n(s,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(n(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(n(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var i=r;t.exports=i},function(t,e,r){var n=r(0),i=r(2),o=r(98),a=r(9),s="silent";function h(){}h.prototype.dispose=function(){};var l=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],u=function(t,e,r,n){a.call(this),this.storage=t,this.painter=e,this.painterRoot=n,r=r||new h,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,o.call(this),this.setHandlerProxy(r)};function c(t,e,r){if(t[t.rectHover?"rectContain":"contain"](e,r)){for(var n,i=t;i;){if(i.clipPath&&!i.clipPath.contain(e,r))return!1;i.silent&&(n=!0),i=i.parent}return!n||s}return!1}u.prototype={constructor:u,setHandlerProxy:function(t){this.proxy&&this.proxy.dispose(),t&&(n.each(l,function(e){t.on&&t.on(e,this[e],this)},this),t.handler=this),this.proxy=t},mousemove:function(t){var e=t.zrX,r=t.zrY,n=this._hovered,i=n.target;i&&!i.__zr&&(i=(n=this.findHover(n.x,n.y)).target);var o=this._hovered=this.findHover(e,r),a=o.target,s=this.proxy;s.setCursor&&s.setCursor(a?a.cursor:"default"),i&&a!==i&&this.dispatchToElement(n,"mouseout",t),this.dispatchToElement(o,"mousemove",t),a&&a!==i&&this.dispatchToElement(o,"mouseover",t)},mouseout:function(t){this.dispatchToElement(this._hovered,"mouseout",t);var e,r=t.toElement||t.relatedTarget;do{r=r&&r.parentNode}while(r&&9!=r.nodeType&&!(e=r===this.painterRoot));!e&&this.trigger("globalout",{event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var r=this[t];r&&r.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,r){var n=(t=t||{}).target;if(!n||!n.silent){for(var i="on"+e,o=function(t,e,r){return{type:t,event:r,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which}}(e,t,r);n&&(n[i]&&(o.cancelBubble=n[i].call(n,o)),n.trigger(e,o),n=n.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[i]&&t[i].call(t,o),t.trigger&&t.trigger(e,o)}))}},findHover:function(t,e,r){for(var n=this.storage.getDisplayList(),i={x:t,y:e},o=n.length-1;o>=0;o--){var a;if(n[o]!==r&&!n[o].ignore&&(a=c(n[o],t,e))&&(!i.topTarget&&(i.topTarget=n[o]),a!==s)){i.target=n[o];break}}return i}},n.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){u.prototype[t]=function(e){var r=this.findHover(e.zrX,e.zrY),n=r.target;if("mousedown"===t)this._downEl=n,this._downPoint=[e.zrX,e.zrY],this._upEl=n;else if("mouseup"===t)this._upEl=n;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||i.dist(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(r,t,e)}}),n.mixin(u,a),n.mixin(u,o);var f=u;t.exports=f},function(t,e,r){t.exports=r(45)}])});